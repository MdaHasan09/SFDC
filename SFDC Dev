Table of Contents
IMPORTANT TOPICS	1
1)	INTRODUCTION TO APEX	1
Date Types & Variables:	9
Operators	13
Collections	15
List	15
Set	21
Map	24
Iterations in Apex	24
Conditional Statements in APEX	27
Functions	27
Classes	28
Constructors	30
This and Static Keyword	34
Overloading	37
Interface& Implements& Inheritance	41





Important topics 
	List, set, map, Wrapper class, SOQL with wrapper, DML with Wrapper, 
	
	s, Batch Apex, Schedule Apex, Queuable apex, Future , Extension, Custom setting, Custom Meta data.

	Path to code: 
	SFDC panter : https://www.youtube.com/watch?v=CiqCfsTrlLA&list=PLV3ll8m0ZlppQBGJUItatmL8HU2UtmByd

	Sathish Youtube channel:

1)	Salesforce Training videos By Satish Myla: 
https://www.youtube.com/channel/UCiXoPOGopbQVg7-hWOzBqbA
Missing videos from Sathish myla
 
 



Trail head module
Quick start apex
Apex basics
Platform development basics
Object oriented programing for admins
Developer console basics
Apex basic and database
Search solution basics

Important points to remember
o	If you want to define any apex class in the VF page then class should be public or global(custom controller). 
o	To display message to user in UI salesfoce have predefined class called 'Apexpages.Message' in Apex class and to display this message in VF page we need to include <apex:pagemessages>.
o	If we want define any apex class as extension then the class should have constructor with parameter then we use that class as extension.The parameter is ‘(Apexpages.StandardController controller)’ will refer the whatever the record we are referring the VF page(editing or creating or deletingrecord). “Apexpages.standardcontroller” Will hold single record id if we want hold multiple id’s then use “Apexpages.standardSetcontroller”.
o	Use @Future annotation to make a method as future call, Future method must be static method and it should not return anything. void is the return type.
o	Any apex class which implement Queueable interface has to define the Execute() method. Queueable interface has execute() method with parameter as ‘QueueableContext’.When we want to invoke Queueable class then use System.enqueueJob() method.
o	Any apex class which implement Schedulable interface then the class is called schedule Apex. Schedulable interface has execute () method with parameter as ‘Schedulable Context’. Schedulable Context will contain the Job id once it’s registered with AyncApexJob. When we want to invoke schedulable class then use method system.schedule(name of schedule, CROn expession, Object).
o	If we want to run any Apex class ha batch apex then that class has implements “Database.batchable(sobject)” interface. Database.batchable(subject) interface is Global so the class which implements also be Global. to inovoke apex  Id Jobid= database.executebatch(ex, size);
o	To exchange data b/w execute methods then we need to implement one interface called ‘database.Stateful’.By using database.stateful only non-static data will be exchanged. In below example size is static so not exchanged and Count is non-static so exchanged. See the result.
o	If you define with annotation "@isTest" then that class becomes a test class.A test methods should be static and it must return void only. Test method must be defined either with "TestMethod" or "@isTest".A test method will not have any parameters.


1)	Introduction to APEX

Development
--------------------------------------------

 1. Declarative Development - No coding. only configurations. 
 2. Programatical Development - With the help of lightning platform we are developing applications. 


 MVC architecture
 ---------------------------
 M - Model- Database – SOQL(Salesforce object query language) and SOSL(Salesforce object search language). 
 V - View - User interface - Visualforce framework, lightning framework
 C - Controller - Business logic - APEX Programming language.


 APEX Programming language
 ----------------------------------------
  It is an object-oriented programming language. 

  Core principles of Object-oriented Programming are,
 
1. Encapsulation - It is bundling the data members and member functions together is called as Encapsulation. 

	2. Abstraction - Hiding the unnecessary data/information. 

	3. Inheritance - it is mainly for re-usability. Acquiring the functionality from parent to 		child is called as inheritance.

	4. Polymorphism - One object performing many task is called polymorphism. 

5. Exception handling - handling the dynamic errors with try, catch and finally block. We can terminate the program abnormally without any data loss.

    
 Class ClassName{
		Variables;
		methods;
}

 Class Car{
		String name;
			public void fillFuel(){
}
}
 


 SOQL - Salesforce Object Query Language
--------------------------------------------------

 Select  - It is used to retrive the data from object.
 
 Insert - It is used to save the data or create new record.
 Update - It is used to modify the data.
 Upsert - It is combination of insert and update.
 Delete - It is used to remove the records from object.
 UnDelete - It is used to restore the deleted records from recycle bin.

 sOSL - Salesforce Object search Language
 ----------------------------------------------------

 FIND 


 Visualforce Framework
 --------------------------------------

  It is similar to HTML. It is tag based programming language. 

  A developer can use VF to create visual force page definition. 

  Visualforce page definition consist of 2 elements

	1. visual force markup
	2. visual force controller


        <apex:page showHeader="true" >

		<apex:form>
			<apex:pageBlock>
				<apex:pageBlockButtons>

				</apex:pageBlockButton>

			<apex:pageBlock>

		</apex:form>
  	</apex:page>


 Example;

<apex:page showHeader="true" sidebar="false" >
    <p>
       <b> <i> Heloo... How are you ? </i></b>
        
       <b> visualforce framework is easy to use...</b>
    </p>
</apex:page>


 visual force controller
 -----------------------------
 It is a class. With the hlep of APEX Programming language we can define the classes.

 there are 4 types of controllers
--------------------
 1. Standard controller: It will deal with only one record.
 2. Standard list controller: It deal with list of record.
 3. Custom controller: According business requirement we will write code. 
 4. Controller extension: extending requirement the existing standard controller. 


	Lexical

1. The given statement is broken into small segments, in such a way that no segment can re-divided      then such a segment is called lexical. 

 2. Every lexical may or may not have meaning associated with it. 

 Integer aval = bval + 10;

 


	Tokens

1. given statement is broken into small segments in such as way that every segement has meaning      associated with it, such segment is called tocken. 

  2. Tokens are further classified into five types
	a. Identifiers
 	b. Keywords
	c. Constants
	d. Operators
	e. Separators



  Integer aval = bval + 10;

  Integer	Keyword
  aval		Identifier
  =		Operator
  bval		Identifier
  +		Operator
  ;		Separator

 

Token are divided in to 5 types
1)	Identifiers: It is the name given to class, interface, method, variable, constant to recognize element uniquely in program. Rules to define identifier.
a)	Name can contain: A-Z, a-z, ‘_’, $.
b)	Name should not start with digit.
c)	No white spaces accepted.
 1ABC	-	invalid
 name	-	valid
 Employee name - invalid
 EmployeeName - valid
 my*name	- invalid
 birth_Date	- valid
 salary1234 	- valid

2)	Keywords: keywords are the reserved words, who meaning is predefined by the compiler. All keywords are in small letters. Ex. If, else, for , while, class, public, protected, private, global, static, integer, void, long etc.. 

3)	Constants: elements whose values doesn’t change during the run time is called constants. 
a)	Numerical Constants: Any values formed using numbers.
Ex. 9, 9.80, etc.
b)	String constants: Any value defined within the single quotes is called string constants. 
Ex. ‘Nares’, ‘1245’, ‘APL133’ etc.
c)	Constant literals: true , false, null

4)	Operators:  
+ 
 -
 *
 /
 %

 <	20 < 10
 >	20 > 10
 <=
 >= 
 ==	10 == 10	'usa' == 'usa'
 =  Assignement operator
 !=

 &&	and 	(industry == 'Banking' && rating == 'Hot')

	true	true	true
	true	false	false
	false	true	false
	false	false	false


 ||	or	(industry == 'Banking' || rating == 'Hot')

 	true 	true	true
	true	false	true
	false	true	true
	false	false	false


5)	Separators: They are used to separate the elements in programming. Ex. (), {}, [], ; semi colon , . Period, comma.
Blue Print of Programing language:
 
	
	 

 




Date Types & Variables:

Data Types:
1)	Blob: (Binary Large Object): Binary data stored as a single object. you can convert this data to string or from string using the tostring() and valueof() methods respectively.
2)	Boolean: Logical value. True, false, Null.
3)	Date:  Particular date  
4)	Datetime: time stamp
5)	Time: Particular time
6)	Decimal: Number that includes a decimal point. Currency field will be treated as Decimal. 
7)	ID: 18 digit id 
8)	Integer: 32 bit number does not have decimal.
9)	Long: 64 bit does not have decimal
10)	Object: Apex supports primitives data types(Integer) , User defined custom class, the sObject generic type or sObject specific type (Account)  
11)	String: Any characters.

 

 

Data types in the Apex programming language;
 a. Primitive Data types
	Integer, Long, Decimal, Double, Date, DateTime, Time, ID, Blob, Boolean, and String
 b. Collections
	List, Set, and Map
 c. Salesforce defined apex classes
	Account, Contact, Lead, Case, Solution, Opportunity..;
 d. User defined apex classes
	
 e. SObject (Standard and Custom objects)
	Account, Contact, Lead..
	Employee, Payment, Project, Client, Customer ...
 

 Collect the data from student
 ---------------------------------------------------
 
 Variable		Data types
 -------------------------------------------------
 lastName		String
 firstName		String
 age			Integer
 city			String
 mobileNumber		String
 address		String
 courseFees		Decimal
 courseStartDate	Date/DateTime
 courseEndDate		Date/DateTime
 studentId		String/Id
 isAmountPaid		Boolean 	true or false
  String lastName = 'vamshi';
  String firstName = 'Krishna';
  Integer age;
  String city;
  String mobileNumber = '900090909';
  String address;
  Decimal courseFees =  20000.99;
  DateTime courseStartDate;
  Date corseEndDate;
  String studentId;
  Boolean isAmountPaid;

  age =28 ;
  city = 'Hyderabad';
  address = 'no 1, banjarahills';
 
 collect the product details
 --------------------------------------------------------
  variable		Data type
 --------------------------------------------------
  productName		String
  productID		String/Id
  productPrice		Decimal
  company		String
  date			Date
  expiryDate		Date
  quantity		Integer/Decimal
  website		String

 Syntax
 ----------------------------
 Datatype variableName;  // variable declaration
 variableName = value;  // Variable initialization
  String lastName;
  lastName = 'Vamshi'; 




	Variables: Variables are in-memory containers that can hold data belonging to a specific data-types during processing and can be reused based on their scope.

Integer inValue = 27;
System.debug(‘ID :’ +inValue);


 


Operators 

	Operators:

  

Demo on operators:


 
Demo 2: Using Variables & Operators in Apex
String o = ‘Hello World’; //String
System.debug(‘Blob: ‘ + Blob.valueOf(o)); //Blob

Boolean isActive = true;
System.debug(‘Boolean: ‘ + isActive); //Boolean
System.debug(‘Date: ‘ + Date.newInstance(2020, 01, 18)); //Date

Datetime currDateTime = Datetime.now();
System.debug(‘Date: ‘ + currDateTime); //DateTime
System.debug(‘Time: ‘ + Time.newInstance(22, 40, 36, 03)); //Time

Decimal decValue = 27.01;
System.debug(‘Decimal: ‘ + decValue); //Decimal

Id recordId = [Select Id From Account Limit 1][0].Id;
System.debug(‘ID: ‘ + recordId); //ID

Integer intValue = 27;
System.debug(‘Integer: ‘ + intValue); //Integer

Long longValue = 2147483648L;
System.debug(‘Long: ‘ + longValue); //Long

Object objValue = o;
System.debug(‘Object: ‘ + objValue); //Object



Wrapper class
	Wrapper class is used to define user define data type to achieve out requirements. It is the only collection of data member and it don’t have any actions.



Example1:
 


Example2:

Array


Collections
Collections are 3 types.
1)	List: 
2)	Set: 
3)	Map: 

List
List can contain any number of records of primitive, collections, sObjects, user defined and built in Apex type. This is one of the most important type of collection and also, it has some system methods which have been tailored specifically to use with List. List index always starts with 0. This is synonymous to the array in Java. A list should be declared with the keyword 'List'. List can be hold duplicate values and values will be in what is order they added.

1. It is collection of similar elements
2. Size of the list can grow or decrease based on run-time requirement.
3. Elements in the list are referred using index.
4. Index start with zero
5. List accept duplicate values
6. List maintains insertion order

syntax:
 List<T> variable = new List<T>();
 T - Data type
 List<Integer> ages = new List<Integer>();
 List<Integer> ages = new List<Integer>{20, 24, 25, 30, 35};
 Exaple
---------------
Integer ageValue = 35;
system.debug('ageValue : '+ageValue);
List<Integer> ages = new List<Integer>{20, 24, 25, 30, 35};
system.debug('ages : '+ages);
List<String> names = new List<String>{'krish', 'John', 'Elvin', 'Jessy'};

Methods for Lists
There are methods available for Lists which we can be utilized while programming to achieve some functionalities like calculating the size of List, adding an element, etc.
Following are some most frequently used methods −
size(): Give the size of the list.
add(); To add new elements.
get(Index): To get velue at index level.
clear(): It will clear all element in the list.
set():
contains: value exist in the list then it written True else false.
isEmapty: list is emprty then it will written True else false.

a. add(element)

This will add the element to the list. 
 List<Integer> values = new List<Integer>();
 values.add(1);
 values.add(2);
 values.add(3);
  0	1	2  --> Index
 ------------------------------
  1	2	3  --> Values
 List<String> names = new List<String>();
 names.add('vamshi');
 names.add('Jennifer');
 names.add('Mahmood');
 names.add('Tracey');


   0		1		2  		3	 --> Index
 --------------------------------------------------------
  vamshi	Jennifer	           Mahmood	Tracey   --> Values

b. get(index)
This will return the element at the given index.
 List<String> names = new List<String>();
 names.add('vamshi');
 names.add('Jennifer');
 names.add('Mahmood');
 names.add('Tracey');

   0		1		2  		3	 --> Index
 --------------------------------------------------------
  vamshi	Jennifer	Mahmood		Tracey   --> Values

 String nameValue = names.get(1);
c. isEmpty()
  This method will return true, if the list is empty.
 This method will return false, if the list is not empty. 
 List<String> names = new List<String>();
 names.isEmpty(); //true
 names.add('Sai');
 names.isEmpty(); //false
d. remove(index)
This method will remove the elements which is at given index.
 List<Integer> ages = new List<Integer>();
 ages.add(10); //0
 ages.add(20); //1
 ages.add(30); //2
 ages.add(40); //3
 ages.add(50); //4
 ages.add(60); //5
 ages.add(70); //6

 0	1	2	3	4	5	6
-------------------------------------------------------
 10	20	30	40	50	60	70

 ages.remove(1); // 20 value 

 0	1	2	3	4	5	
-----------------------------------------------
 10	30	40	50	60	70

e. Size()
 This method will return count of number of the elements in the list.
 List<Integer> ages = new List<Integer>();
 ages.add(10); //0
 ages.add(20); //1
 ages.add(30); //2
 ages.add(40); //3
 ages.add(50); //4
 ages.add(60); //5
 ages.add(70); //6

 system.debug('ages list size is : '+ ages.size()); // 7 size

f. Clear(): This method will remove all the elements in the list
 ages.clear();
  system.debug('ages list size is : '+ ages.size()); // 0 size.
 if(ages.size() > 0){
	// logic;
 }
g. contains(element)
  This method return true, if the list contains the given element.
  Returns false if the list doesnt contain the element.
 List<Integer> ages = new List<Integer>();
 ages.add(10); //0
 ages.add(20); //1
 ages.add(30); //2
 ages.add(40); //3
 ages.add(50); //4
 ages.contains(50); //true
 ages.contains(100);// false
 List<Account> accounts = [select id, name, phone, industry, rating from Account];

Set

A Set is a collection type which contains multiple number of unordered unique records. A Set cannot have duplicate records. Like Lists, Sets can be nested. In Set it will automatically sorted in ascending order. 
1. set is a collection of similar elements.
2. Size of the set can grow or reduce dynamically based on run-time requirement.
3. Set will not accept duplicate values. 
4. Set will not maintain insertion order. 
set<T> variable = new set<T>();
T - Any data type.
set<Integer> values = new Set<Integer>{10, 20, 30};
Methods
a. add(element)
Set<Integer> values = new set<Integer>();
 values.add(10);
 values.add(20);
 values.add(30);
 values.add(40);
 values.add(30);
 values.add(40);
 system.debug('values inside set : '+values);
 // 10 20 30 40



b. remove(element)
Set<Integer> values = new set<Integer>();
 values.add(10);
 values.add(20);
 values.add(30);
 values.add(40);
 values.remove(20);
c. contains(element)
 values.contains(10); // true
 values.contains(100); // false
d. size()
 values.size();  // size is 4
e. clear()
 values.clear(); 
f. isEmpty()
 values.isEmpty(); // true or flase.
g. addAll(set/list)
 This will add list of elements to a set or set of elements to a Set.
 List<Integer> listOne = new List<Integer>();
 listOne.add(10);
 listOne.add(20);
 Set<Integer> setOne = new Set<Integer>();
 setOne.add(30);
 setOne.add(40);
 setOne.addALL(listOne);
 Example 2:
Set<Integer> setOne = new Set<Integer>();
 listOne.add(10);
 listOne.add(20);
system.debug('setOne : '+setOne);
 Set<Integer> setTwo = new Set<Integer>();
 setOne.add(30);
 setOne.add(40);
 setOne.addALL(setTwo);
system.debug('setOne : '+setOne);
 Example 3
Set<Integer> setOne = new Set<Integer>();
 setOne.add(10);
 setOne.add(20);
system.debug('setOne : '+setOne);
 Set<Integer> setTwo = new Set<Integer>();
 setTwo.add(30);
 setTwo.add(40);
  setTwo.add(10);
 setTwo.add(20);

 setOne.addALL(setTwo);
system.debug('setOne : '+setOne);

Map

It is a key value pair which contains the unique key for each value. Both key and value can be of any data type.
1. It is a key value pair
2. Key should be unique
3. Value can be duplicate
4. It can grow or decrease based on the run time requirement.
 Map<Key, value> mapName = new Map<key, value>();
 Map<String, Decimal> empSalary = new Map<String, Decimal>();
 Map<Id, String> empNames = new Map<Id, String>();
 Map<Integer, String> days = new Map<Integer, String>();

 Methods
 -----------------
 1. put(key, value)

 	This is used to add the new elements into the map.
 	Map<String , Integer> stdMap = new Map<String, Integer>();
	stdMap.put('Jennifer', 28);
	stdMap.put('Cathy', 30);

	 Map<Integer, String> days = new Map<Integer, String>();

	 days.put(1, 'Monday');
	 days.put(2, 'Tuesday');
	 days.put(3, 'Wednesday');
	 days.put(4, 'Thursday');
	 days.put(5, 'Friday');

 2. isEmpty()
	This method will return true, if the map is empty.
	This method will return false, if the map is not-empty. 

 	Map<String , Integer> stdMap = new Map<String, Integer>();

	stdMap.put('Jennifer', 28);
	stdMap.put('Cathy', 30);

	stdMap.isEmpty(); // false

	 Map<Integer, String> days = new Map<Integer, String>();

	days.isEmpty(); //true

3. get(key)
	This will return the value associated with the given key. 

 Map<Integer, String> days = new Map<Integer, String>();

	 days.put(1, 'Monday');
	 days.put(2, 'Tuesday');
	 days.put(3, 'Wednesday');
	 days.put(4, 'Thursday');
	 days.put(5, 'Friday');

 String day = days.get(3);
 system.debug('key 3 value : '+day); // Wednesday

              Map<String , Integer> stdMap = new Map<String, Integer>();

	stdMap.put('Jennifer', 28);
	stdMap.put('Cathy', 30);

	Integer age = stdMap.get('Cathy'); // 30

4. keyset()
	This will return set of all the keys.

 	 Map<Integer, String> days = new Map<Integer, String>();

	 days.put(1, 'Monday');
	 days.put(2, 'Tuesday');
	 days.put(3, 'Wednesday');
	 days.put(4, 'Thursday');
	 days.put(5, 'Friday');

  	Set<Integer> keys = days.keyset();
 	system.debug('Keys are : '+keys);

 	// 1 2 3  4 5
5. values()
	This will return list of values from the map.

 	 Map<Integer, String> days = new Map<Integer, String>();
	 days.put(1, 'Monday');
	 days.put(2, 'Tuesday');
	 days.put(3, 'Wednesday');
	 days.put(4, 'Thursday');
	 days.put(5, 'Friday');

 	List<String> values = days.values();
	system.debug('values are : '+values);


6. containskey(key)
	This will return true, if the map contains the given key. 
	boolean result = days.containskey(3); // true
	boolean value =  days.containskey(10); // false

7. clear()
	This will remove all the elements from the map
	days.clear();

8. size()
	This will return count of no of elements in the map.
               Map<Integer, String> days = new Map<Integer, String>();
	 days.put(1, 'Monday');
	 days.put(2, 'Tuesday');
	 days.put(3, 'Wednesday');
	 days.put(4, 'Thursday');
	 days.put(5, 'Friday');

	Integer size = days.size(); // 5
	system.debug('Map size is : '+size);

Iterations in Apex

5 Types of Procedural Loops in Apex
•	Do {Code Block} While (Boolean Exit Condition)
do-While loop
 ----------------------------
 A do-while loop is similar to the while loop, except that a di-while loop is guaranteed to execute at lease one time. 
 
 The do-while loop checks the condition at the bottom of the loop.

 do{
	statement;
 }while(boolean_condition);
 
 

 Integer count = 1;
 
 do{
	system.debug('Count is : '+count);
 	count ++;   // Count = count + 1;
 } while(Count < 11);

 count  1 2 3 4 5 .... 




Integer count = 15; 
do{
	system.debug('Count is : '+count);
 	count ++;   // Count = count + 1;
 } while(Count < 11); // 15 < 11



•	While (Boolean Exit Condition)
while loop
 ----------------------------

 Executes a statement if the boolean test returns true. 
 Execution will stop when the value of condition becomes false. 


 while(Boolean_Condition){
 //Statemetns;
 }

 Integer count = 1;
 while(count < 11){
	system.debug('Count is : '+ count);
 	count ++ ;
 }

 1 2 3 4 5 ..... 11 < 11
 10 < 11



•	For
•	For (Initialization; Boolean Exit Condition; Increment) {Code Block}
Ex:
For (i= 1; i<= 5;i++){
statements
}
	For (i= 10;i>=1;i--)
	For (i= 5; i<=65; i+5) it will prinit from 5, 10 ,15 to 65.

List<integer> listOfNumbers = new List <integer> ();
Integer maxListSize = 5;
for(Integer i = 1; i <= maxListSize; i++){
listOfNumbers.add(i);
}
System.debug(‘listOfNumbers: ‘ + listOfNumbers);



•	For (Variable : Array or Set) {Code Block}
Ex:
•	For (Variable : [Inline SOQL Query]) {Code Block}
Ex:

Break Statement
 ------------------------------------
 It terminates the loop and goes out of it immediately when it appears.
 Break will not allow to continue iterting, even if the boolean condition is still true. 




 for(integer i = 0; i<100; i++){
	if(i == 10){
		break;		
      }
     system.debug('i value :'+i);
 }

 Continue statement
 ---------------------------------------

 it skips the current iteration and goes to the next. 
 Continue will immediately exit the curent iteration and moved to the next as if the current iteration  has ended.

 List<Integer> mylist = new List<Integer>{1,2,3,4,5};

 for(Integer i : mylist){
   if( i == 3){
	continue;
 	}
	system.debug(i);
 }
 

Conditional Statements in APEX
•	If Else…
•	Switch Statements
•	Ternary Operators


Functions
1)	It is a group statements which are running together to implement a particular task. 
2)	There are 4 type of functions. 
a)	Without return value and without parameter
Syntax:
Void functionname(){
	Logic
}

Call:  functionname();
b)	Without return value and with parameter: 

Syntax:
Void functionname(parm1, parm2){
	Logic
}

Call:  functionname(parm1, Parm2);

c)	With return value and without parameter: If write ‘Void‘ in the syntax then it won’t return any value. If we specify any type like integer , string then it wil return that type. See below example.

Syntax:
Returnvalue functionname(){
	Logic
}

Ex: 
Public integer cal(){
Integer a= 10;
Integer b= 5;
C= a+b;
Return c;
}
Cal e= new cal();
Integer result = e.caluculate;



d)	With return value and with parameter

Syntax:
Returnvalue functionname(Parm1, param2){
	Logic
}



Classes
1)	It is collection of data members and member functions. Class is user defined template which contains data and actions. Data is defined using variables and actions are defined using functions. 
Syntax:
 [accessSpecifier] Class className{
	Datamembers; //variable;
Actions; //functions;
 }

	Access specifiers
1)	public -- Class, Variables, methods and constructor. It is accessible within the organization.
2)	Global -- Class, Variables, methods and constructor. It is accessible within the organization and also outside of the organization.
3)	Protected -- variables and methods. It is for only inherited members. This means that the method or variable is visible to any inner classes in the defining Apex class, and to the classes that extend the defining Apex class. You can only use this access modifier for instance methods and member variables. 
4)	Private -- This access modifier is the default, and means that the method or variable is accessible only within the Apex class in which it’s defined. If you don’t specify an access modifier, the method or variable is private.

Syntax:
Public Class className{
	Datamembers;
Actions;
}
Object: it is an instance of a class. 
  classname variablename = new Classname();

  Sample s = new Sample();
  s.DisplayDetails();
examples: 	
public class Sample {
	public String name = 'jennifer';
public string mobile = '900009090';
 public string city = 'Hyderabad';
    
    public void DisplayDetails(){
        system.debug('name is : '+ name);
        system.debug('mobile is : '+ mobile);
        system.debug('city is :'+ city);
    }
    	}
Sample s = new Sample();
s.DisplayDetails();

Sample s = new Sample();
s.mobile = '123456';
s.city = 'Chennai';
s.DisplayDetails();


Constructors
	It is special kind of method which will be executed whenever an object is created. Constructor will initialize all the global variables with null values. 
	Constructor name must be same as class name.
 	 1. Default constructor
 2. parameterized constructor

 public class Employee {
   public string name;
    public integer age;
    public String address;
    public Decimal salary;
    
   	 public Employee(){
        
    	}

    public Employee(String name, integer age){


     	}

}

Example 1
-------------------------------------

public class Employee {
public string name;
public integer age;
public String address;
public Decimal salary;

public Employee(){
name = 'Sai';
age = 29;
address = 'Canada';
salary = 100000;
}

public void assignData(String eName, Integer eAge, String eAddress, Decimal eSlary){
name = eName;
age = eAge;
address = eAddress;
salary = eSlary;
}

public void getData(){

system.debug('Name : '+name);
system.debug('Age : '+age);
system.debug('Address : '+address);
system.debug('Salary : '+salary);
}
}


Employee emp = new Employee();
emp.getData();
system.debug('**************************************************');

emp.assignData('John', 30, 'India, Hyd', 800000);
emp.getData();
system.debug('************************************************');
emp.assignData('Rahul', 20, 'India, Chennai', 1000000);
emp.getData();


Example
-------------------------------------
public class Student {
public string name;
public integer age;
public decimal courseFees;
public string address;
public boolean isAmountPaid;
public string mobile;

    public Student(String sName, Integer sAge, Decimal SFees, String addrs, boolean amountPaid, string sMobile){
        name = sName;
        age = sAge;
        courseFees = sFees;
        address = addrs;
        isAmountPaid = amountPaid;
        mobile = sMobile;
    }
    
    public void DisplayStudentInfo(){
        system.debug('Name : '+name);
        system.debug('Age: '+ age);
        system.debug('Fees : '+courseFees);
        system.debug('Address : '+address);
        system.debug('is Amount Paid? : '+isAmountPaid);
        system.debug('mobile :' +mobile);
    	}
}
Student std = new Student('Mahmood', 29, 20000, 'USA', false, '9009090990');
std.DisplayStudentInfo();
system.debug('*****************************');

Student std1 = new Student('Jessica', 20, 30000, 'India', true, '89898989898');
std1.DisplayStudentInfo();

system.debug('********************************************8');
system.debug('student std : '+std.name);
system.debug('student std1: '+std1.name);


This and Static Keyword

This Keyword
----------------------------------

Whenever instance/global and local variable names are same then you can refer instance variables with this keyword.

This is a keyword.


public class Application {
	public string name;
    public boolean isActive;
    public string company;
    public string serverLocation;
    
    public Application(string name, boolean isActive, String company, string serverLocation){
        this.name = name;
        this.isActive = isActive;
        this.company = company;
        this.serverLocation = serverLocation;          
    }
    
    public void DisplayAppInfo(){
        system.debug('Application Name : '+name);
        system.debug('isActive : '+isActive);
        system.debug('Company : '+Company);
        system.debug('Server Location : '+serverLocation);
    }
}

Static keyword
-------------------------------
Static is a keyword.
Static variables and metods will be reffered with classname. 
 classname.variablename
 classname.methodname

Static variables;
	1.If you define variable as static, memory will be allocated only once i.e at the time of 		loading the class.
	2. Static variables referred using class name.
	3. static variables are common to all the objects and every object can modify and access the 		static data.
	4. Non-static variables are specific to object, they will be defined no of times depending on 	
	no of objects created. 
	5. Static methods will call with help of class name no need to create object to Static method.
                 Classname.staticmethos();


Example 1
-----------------------------------------
public class StaticKeyword {
	public static Integer aval = 0;
    public integer bval = 0;
    
    public void add(){
        aval = aval + 10;
        bval = bval + 10;
    }
    
    public static void display(){
        system.debug('aval : '+aval);
    }
}



StaticKeyword st = new StaticKeyword();
st.add();
system.debug('Static aval : '+ StaticKeyword.aval);// 10
system.debug('bval : '+st.bval);//10

system.debug('************************************');

Statickeyword st2 = new statickeyword();
st2.add();
system.debug('Static aval : '+ StaticKeyword.aval);//20
system.debug('bval : '+st2.bval);//10

StaticKeyword.display();

Example 2
-----------------------------------------------
public class StudentData {
	public static string collageName;
    public string name;
    public Integer age;
    
    public studentData(String name, integer age){
        this.name = name;
        this.age = age;
        collageName = 'JNTU Colleage';
    }
    
    public void DisplayStudentData(){
        system.debug('name : '+name);
        system.debug('age : '+age);
        system.debug('colleage name : '+ collageName);
    }
}


StudentData std = new StudentData('Elvin', 29);
std.DisplayStudentData();

StudentData std2 = new StudentData('Jennifer', 39);
std2.DisplayStudentData();

Overloading

Overloading
 -----------------------------------------------
 
 1. Method overloading
 2. Constructor overloading

Method overloading
--------------------------------------
 
if you define more than one method with same name
	a. with different number of parameters
		or
	b. with different type of parameters
		or
	c. with different order of parameters

 then we call it as method overloading. 

Example
----------------------------

public class MethodOverload {
    public void show(){
        system.debug('show method with no parameters');
        
    }
    
    public void show(String name){
        system.debug('name is : '+name);
    }
    
    public void show(string name, integer age){
        system.debug('name is : '+name);
        system.debug('age is : '+age);
    }
    
    public void show(integer age, string name){
        system.debug('age is : '+age);
        system.debug('name is : '+name);
        
    }
    
    public void show(Integer age){
        system.debug('age is : '+age);
    }
}


MethodOverload me = new MethodOverload();
me.show();
me.show('vamshi');
me.show('John', 25);
me.show(30);


Constructor overloading
---------------------------------------------

if you define more than one Constructor with same class name
	a. with different number of parameters
		or
	b. with different type of parameters
		or
	c. with different order of parameters

 then we call it as Constructor overloading. 

Example 1
-----------------------------------------

public class Example {
	public string name;
    public integer age;
    
    public Example(){
        name = 'Cathy';
        age = 30;
        system.debug('name : '+name +'  age : '+age);
    }
    
    public Example(string name, integer age){
        this.name = name;
        this.age = age;
        system.debug('name : '+name +'  age : '+age);
    }
    
    public Example(integer age , string name){
        this.name = name;
        this.age = age;
        system.debug('age : '+age +'  name : '+name);
    }
    
    public Example(string name){
        this.name = name;
        system.debug('name is : '+name);
    }
}


vExample e1 = new Example();
Example e2 = new Example('John', 25);
Example e3 = new Example('Mahmood');
Example e4 = new Example(25, 'John');

Interface& Implements& Inheritance

Interface
1. it is collection of un-implemented methods.
2. It contains the signature of the service but doesn't contain the body.
3. An interface is like a class in which none of the methods have been implemented—the method signatures are there, but the body of each method is empty. To use an interface, another class must implement it by providing a body for all of the methods contained in the interface.

4.You need interfaces to achieve abstraction, promoting reusable and flexible code by separating the declaration of functionality from its specific implementation
Syntax:
 global/public Interface interfaceName{
	Datamembers;
	returntype methodname(parameters);

 }

 Example:
 
 public interface Example{

	void show();
	void callMe(string name, integer age);
	
 }

 Note: We cannot create an object for the interface.

 implements
1. implements is a keyword
 2. If a class wants to use the interface, then class has to implement the interface.
 3. When a class implements an interface all the methods in the interface should be defined by the   class.
4. A class can implement more than one interface.

Example 1
public interface BankingServices{
	void deposit(String accNo, Decimal amount);
	void withdraw(string accNo, Decimal amount);
	void openAccount(string name, string mobile);
 }

public class HDFCBanking implements BankingServices{
    	public void openAccount(string name, string mobile){
system.debug('Account is opened with name: '+name+' mobile : '+mobile);
    	}
    
public void deposit(string accNo, Decimal amount){
system.debug('Deposit amount : '+amount+' account number : '+accNo);
}
    
public void withdraw(string accNo, Decimal amount){
        	system.debug('Withdraw amount : '+amount+' account number : '+accNo);
    	}
}


HDFCBanking hdfc = new HDFCBanking();
hdfc.openAccount('vamshi', '9000000009');
hdfc.deposit('10001', 20000);
hdfc.withdraw('10001', 5000);

Example 2
public Interface Calculator {
	void add(Integer aval, Integer bval);
    void mult(Integer aval, Integer bval);
}

public class ScientificCalc implements Calculator {
    public void add(Integer num1, Integer num2){
        Integer result = num1 + num2;
        system.debug('Addition of '+num1+' and '+num2+' is :'+result);
    }
    
    public void mult(Integer num1, Integer num2){
        Integer result = num1 * num2;
         system.debug('Multplication of '+num1+' and '+num2+' is :'+result);
    }
}

ScientificCalc calc = new ScientificCalc();
calc.add(10, 10);
calc.mult(10, 10);
example3:class implement more than one interface.

 


Inheritance
 It is mainly for reusability. Child class can acquire properties from parent class is called inheritance. 
1. Virtual : This key can be used at parent class. 
2. extends: this can be used at child class to inherit the parent class. If parent is not defined with Virual then child can’t inherit the parent.

 public virtual class ParentClass{

 }

 public class ChildClass extends ParentClass{

 }

Example 1
--------------------------------------------
public virtual class ParentClass {
	public string name;
    public string mobilenumber;
    
    public void display(){
        system.debug('name is : '+name);
        system.debug('mobilenumber is : '+mobilenumber);
    }
    
}


public class ChildClass extends ParentClass {
    public ChildClass(){
        name = 'Krish';
        mobilenumber = '89898989898';
    }
    
    public void functionOne(){
        system.debug('This method is specific to ChildClass');
    }
}

ChildClass cld = new ChildClass();
cld.display();
cld.functionOne();

Visualforce framework
1. visual force is framework that allows developers to build sophisticated, custom user interfaces that can be hosted natively on the lighting platform.
2. Visualforce page definition consist of 2 elements
	a. Visualforce markup 
	b. visual force controller
Link for the Visual force tags and its attributes.
https://developer.salesforce.com/docs/atlas.en-us.224.0.pages.meta/pages/pages_compref.htm

Visualforce markup:
 	It is tag based elements. 
	It consists of visual force tags. these tags/components given by salesforce. 
	
	<apex:page> 
		<apex:pageBlock>
			<apex:pageBlockButtons>

			</apex:pageBlockButtons>
		</apex:pageBlock>
	</apex:page>


	<apex:form>

	<apex:sectionHeader>
	<apex:pageBlocktable>



	The Developer Console is the most powerful and feature-complete tool for Lightning Platform development from within your Salesforce organization. There are two other built-in ways to create and edit Visualforce pages in Salesforce.
o	The development mode “quick fix” and footer is a fast way to quickly create a new page, or make short edits to an existing page. It’s great for quick changes or when you want to create a short page to test out some new code on a blank slate, before incorporating it into your app pages.
o	The Setup editor, available in Setup by entering Visualforce Pages in the Quick Find box, then selecting Visualforce Pages, is the most basic editor, but it provides access to page settings that aren’t available in the Developer Console or development mode footer.

 Sample page1:
 --------------------------
 <apex:page sidebar="false" showHeader="true" >
    <b>Heloo everyone... Welcome!!!!!  </b> <br/>
    
    <b>Visualfroce framework</b>
    
    <apex:pageblock title="Employee" >
        Employee Name: <br/>
        Mobile number:
    </apex:pageblock>
</apex:page>

visual force controller:
-----------------------------------
 These will specify the action that should be performed on the server side when user interacts with any of the elements in the user interfaces. 

Controllers are classified into 4 types

1. Standard controller
2. Standard list controller
3. Custom controller
4. Extensions

Apex Page

1. page is a pre-defined component.
2. apex is a namespace
3. Every VF page will start and end with apex:page

attributes
----------------

1. id - This is a unique string assigned to component. Using this id we can refer to the component/element in the page. 

2. sidebar - Boolean
	When set as true, salesforce standard header and sidebar will be displayed.
	When set as false, standardHeader and sidebar will be hidden.
	Default value is true.

3. setup - Boolean
	When set as true, salesforce set up will be displayed.
	When set as false, salesforce sidebar components will not be displayed. 
	Default value is false. 

4. rendered - Boolean
	
	When set as true, content of apex page will be displayed.
	When set as false, content will be hidden. 
	Default value is true. 


5. action
	This can be url of page or method from apex class.
	This will be invoked when we load/cal the page. 

6. StandardController
	This will specify name of the sobject which we want to use in the page.
	
	standardController="Account"


7. readOnly

	Content of the page will be in the readable format. 
Also if want to display more 1K record in the page block table then make readonly = “true’ in the Apex page section then it will display up to 10K records.


8. Controller
	it is nothing but class. you can spcify the class for visuaforce page. 


	controller = "Example"

9. Extensions
	It is also a class. if you want extend the functionality of standard/predefined sobject then define the extensinos. 

	standardcontroller="Account" Extensinos="Sample"

	Note that both the sidebar and showHeader attribute have no effect in Lightning Experience, and that there’s no way to suppress the Lightning Experience header. Although the default value of showHeader is true, it has no effect in Lightning Experience.



Global Variables
Use global variables to access and display system values and resources in your Visualforce markup.
For example, Visualforce provides information about the logged-in user in a global variable called $User. You can access fields of the $User global variable (and any others) using an expression of the following form: {! $GlobalName.fieldName }.
Ex:

<apex:page>
    <apex:pageBlock title="User Status">
        <apex:pageBlockSection columns="1">
            {! $User.FirstName } {! $User.LastName }
           ({! $User.Username })
        </apex:pageBlockSection>
    </apex:pageBlock>
</apex:page>

Ex2:

Expressions
If you want to print the data dynamically, we can use expression format. 
Syntax: {!expression}

1. using this expression format we can call variables of the apex class.
2. We can call the methods of the apex class.
3. we can access fields of the sobject.
4.The resulting value can be a primitive (integer, string, and so on), a Boolean, an sObject, a controller method such as an action method, and other useful results.

{!'vamshikrishna'}
{! 10+50 }
{! Account.Name}
{! Account.phone }
{! Account.Email }
{! save }
{! cancel}

Formula expression:
Visualforce lets you use more than just global variables in the expression language. It also supports formulas that let you manipulate values.

Ex1: the & character is the formula language operator that concatenates strings.

{! $User.FirstName & ' ' & $User.LastName }

Ex2:
<p> Today's Date is {! TODAY() } </p>
<p> Next week it will be {! TODAY() + 7 } </p>

Ex3:
<p>The year today is {! YEAR(TODAY()) }</p>
<p>Tomorrow will be day number  {! DAY(TODAY() + 1) }</p>
<p>Let's find a maximum: {! MAX(1,2,3,4,5,6,5,4,3,2,1) } </p>
<p>The square root of 49 is {! SQRT(49) }</p>
<p>Is it true?  {! CONTAINS('salesforce.com', 'force.com') }</p>

Conditional Expressions: 
Use a conditional expression to display different information based on the value of the expression.

For example, if an invoice has no line items, you might want to display the word “none” instead of an empty list. Or if an item has expired, you might want to display “Ended” instead of showing the ending date and time.
Ex:

<p>{! IF( CONTAINS('salesforce.com','force.com'), 'Yep', 'Nope') }</p>
<p>{! IF( DAY(TODAY()) < 15, 'Before the 15th', 'The 15th or after') }</p>

({! IF($User.isActive, $User.Username, 'inactive') })


Apex section Header
it is used to create a section header in VF page.

Attributes:
1)title
2)subTitle
3)helpTitle and helpUrl

example 2
-----------------
<apex:page >
    <apex:sectionHeader title="Student" subTitle="New Student"/>
    <apex:pageBlock title="Student" helpTitle="needHelp?" helpUrl="/apex/mypage2">
        Last Name: <br/>
        First Name: <br/>
        mobile : <br/>
        Email: <br/>    
    </apex:pageBlock>
</apex:page>



Apex page block

It is used to create block on the VF page. 

Attributes:
1)title: Using this we can be able to give title to the block.
2)helpTitle and helpUrl: using this attributes we can be able to give the help button and help URL for the Block.
3)dir: using this we can be able to give the direction where the block header and fields to be display in page. By default it the LTR(Left to Right).
4)tabSytle: using we can provide the tab sytle for the block.

<apex:page>
    <apex:pageBlock>
        Last Name: <br/>
        First Name : 
    </apex:pageBlock>
    
    <apex:pageBlock title="Student">
        Last Name: <br/>
        First Name : 
    </apex:pageBlock>
    
    <apex:pageBlock title="Employee" helpTitle="neddHelp?" helpUrl="https://www.google.com">
        
        Last Name: <br/>
        First Name : 
    </apex:pageBlock>
    
    <apex:pageBlock title="Employee" helpTitle="neddHelp?" helpUrl="/apex/mypage1">
        
        Last Name: <br/>
        First Name : 
    </apex:pageBlock>
    
    
    <apex:pageBlock title="Product" dir="RTL">
        Production Name: <br/>
        Price: <br/>
        Email:   
    </apex:pageBlock>
    
        <apex:pageBlock title="Product" dir="LTR" tabStyle="Opportunity">
        Production Name: <br/>
        Price: <br/>
        Email:   
    </apex:pageBlock>
</apex:page>


 


Apex Command Button
It will help to create button in the VF page. We need to use this in side the <apex:form> or <apex:pageblockButton>.

Even it’s placed within <apex:pageblockButton> but not in  <apex:form> then it will through error.
 
attribute:
1)disabled: By default it will be false. if we enable it then it disabled for the click.
2)rendered: By default it will be True. if we set to false it then it will not display in vf page.
3)action: after clicking the button what action to be happen in VF page.
4)style: if we want apply some CSS styles(Like button colour, backgroung etc.) to the button.
 


<apex:page >
    <apex:form>
        <apex:commandButton value="Save"/>
        <apex:commandButton value="Cancel"/>
        <apex:commandButton value="Submit"/>
        <apex:commandButton value="Register" disabled="true"/>
        <apex:commandButton value="Rendered" rendered="true"/>
        <apex:commandButton value="Navigate" action="/apex/MyPage3" title="Click here to navigate to page3"/>
        <apex:commandButton value="Stylish" style="background:yellow; color:red; width:200px"/>
    
    </apex:form>
</apex:page>


Example
------------------------------------
<apex:page >
    <apex:sectionHeader title="Product" subtitle="New Product"/>
    
    <apex:form>
    	<apex:pageBlock title="Product Info">
        	<apex:pageblockButtons>
            	<apex:commandButton value="Save"/>
                <apex:commandButton value="Cancel"/>
            
            </apex:pageblockButtons>
        
         <b>   Product name: Dell Laptop <br/>
            price: 50000 INR<br/>
            Email: dell@info.com<br/>
            Man year: 2021<br/>
            Warranty: 2 years.<br/>
        </b>
        </apex:pageBlock>
    
    </apex:form>
</apex:page> 


Apex Page block section
This that must be used within the Apex Page block.
The <apex:pageBlockSection> tags are nested within the <apex:pageBlock> tag. You can’t use a child <apex:pageBlockSection> tag without putting it inside a parent <apex:pageBlock> tag.
<apex:page >
    <apex:pageBlock title="Employee">
        <apex:pageBlockSection title="Section1">
            section one
        </apex:pageBlockSection>
        
        <apex:pageBlockSection title="Section2" collapsible="false">
            section two
            
        </apex:pageBlockSection>
        
        <apex:pageBlockSection title="Section3" rendered="true">
        	Section Three
        </apex:pageBlockSection>
        
         <apex:pageBlockSection title="Section4" rendered="true" columns="1">
   			<apex:pageBlock title="One">
             	This is page block one
             </apex:pageBlock>
             
             <apex:pageBlock title="Two">
             	This is page block two
             
             </apex:pageBlock>
        </apex:pageBlockSection>
    </apex:pageBlock>
</apex:page>




Apex page block table

1. This is child component of pageBlock
2. This is used to display list of records in the VF page. 
3 It will display the records row wise. 


Attributes
-------------
values - This will specify list of records which we want to display. This will accept only list or array.


Var - This is name of the variable. This variable refers to one element in the collection. Using this variable we can print the data of the element. 

Ex:

<apex:pageBlock title="Contacts">
   <apex:pageBlockTable value="{!Account.contacts}" var="contact">
      <apex:column value="{!contact.Name}"/>
      <apex:column value="{!contact.Title}"/>
      <apex:column value="{!contact.Phone}"/>
   </apex:pageBlockTable>
</apex:pageBlock>

o	<apex:pageBlockTable> is an iteration component that generates a table of data, complete with platform styling. Here’s what’s going on in your markup.
o	The value attribute of <apex:pageBlockTable> is set to the expression {!Account.contacts}. This is the list of records that <apex:pageBlockTable> will work with.
o	For each record in that list, one record at a time, <apex:pageBlockTable> assigns that record to the variable named in the <apex:pageBlockTable>’s var attribute. In this case, that variable is named contact.
o	For each record, <apex:pageBlockTable> constructs a new row in the table, using the row defined by the set of <apex:column> components within the body of <apex:pageBlockTable>. The <apex:column> components, in turn, use the contact variable that represents the current record to pull out the field values for that record.
o	Outside of the loop, <apex:pageBlockTable> uses the fields in the <apex:column> components to create column headers, by looking up the label for each field.

<apex:page StandardController="Account" recordSetVar="items">
    <apex:pageBlock title="Account List">
        <apex:pageBlockTable value="{!items}" var="a">
            <apex:column value="{!a.Name}"/>
            <apex:column value="{!a.Industry}"/>
            <apex:column value="{!a.Phone}"/>
            <apex:column value="{!a.rating}"/>
        </apex:pageBlockTable>
    </apex:pageBlock>
</apex:page>
 



<apex:page standardController="Account">
    <apex:pageblock title="{!Account.Name}">
    	<apex:pageBlockTable value="{!Account.Contacts}" var="c">
            <apex:column value="{!c.lastname}"/>
            <apex:column value="{!c.Phone}"/>
            <apex:column value="{!c.Email}"/>                
        </apex:pageBlockTable>
    </apex:pageblock>
    <br/> <br/>
     <apex:pageblock title="{!Account.Name}">
    	<apex:pageBlockTable value="{!Account.Cases}" var="c">
            <apex:column value="{!c.Subject}"/>
            <apex:column value="{!c.Status}"/>
            <apex:column value="{!c.Priority}"/>    
			<apex:column value="{!c.Origin}"/>            
        </apex:pageBlockTable>
    </apex:pageblock>
</apex:page>

Code to display EDIT and delete action in column.
 

<apex:pageBlock title="Contacts">
    <apex:pageBlockTable value="{!Account.contacts}" var="contact">
        <apex:column>
            <apex:outputLink
                value="{! URLFOR($Action.Contact.Edit, contact.Id) }">
                Edit
            </apex:outputLink>
            &nbsp;
            <apex:outputLink
                value="{! URLFOR($Action.Contact.Delete, contact.Id) }">
                Del
            </apex:outputLink>

        </apex:column>
        <apex:column value="{!contact.Name}"/>
        <apex:column value="{!contact.Title}"/>
        <apex:column value="{!contact.Phone}"/>
    </apex:pageBlockTable>
</apex:pageBlock>


Apex Tab panel and Tab
It is used to create tabs in VF page.

<apex:page standardController="Account" >
    <apex:sectionHeader title="Account" subTitle="{!Account.Name}"/>
    <apex:pageBlock>
    	<apex:pageBlockSection columns="1">
        	<apex:tabpanel>
            	<apex:tab label="Contacts">
                 <apex:pageBlock mode="mainDetail">
                     <apex:pageBlockTable value="{!Account.Contacts}" var="a">
                        	<apex:column value="{!a.FirstName}"/>
                            <apex:column value="{!a.LastName}"/>
                            <apex:column value="{!a.Phone}"/>                        
                        </apex:pageBlockTable>
                    
                    </apex:pageBlock>                
                </apex:tab>
                
                
                <apex:tab label="Opportunities">
                   <apex:pageBlock mode="mainDetail">
                        <apex:pageBlockTable value="{!Account.opportunities}" var="a">
                        	<apex:column value="{!a.Name}"/>
                            <apex:column value="{!a.StageName}"/>
                            <apex:column value="{!a.Amount}"/>                        
                        </apex:pageBlockTable>
                    </apex:pageBlock>                
                </apex:tab>

                
                <apex:tab label="Cases">
                   <apex:pageBlock mode="mainDetail">
                       <apex:pageBlockTable value="{!Account.Cases}" var="a">
                        	<apex:column value="{!a.Subject}"/>
                            <apex:column value="{!a.Priority}"/>
                            <apex:column value="{!a.Status}"/>                        
                        </apex:pageBlockTable>                    
                    </apex:pageBlock>                
                </apex:tab>
            </apex:tabpanel>
        
        </apex:pageBlockSection>
    
    </apex:pageBlock>
</apex:page>


Apex Data Table
-> data table and page block table both are same but in data table content will not display properly for that we need to provide the attributes.
->In data table we need to provide Hader value but in page block table it will automatically.

<apex:page standardController="Account" recordSetVar="items">
    <apex:sectionHeader title="BasicDataTable"/>
     <apex:dataTable value="{!items}" var="a">
    	<apex:column value="{!a.Name}" headerValue="Account Name"/>
        <apex:column value="{!a.phone}" headerValue="Phone Number"/>
        <apex:column value="{!a.industry}" headerValue="Industry"/>
        <apex:column value="{!a.rating}" headerValue="Rating"/>    
    </apex:dataTable>
    <style>
    	.odd{
        background: #FFFFE0;
        }
        
        .even{
        background: #20B2AA;
        }
        
        .three{
        
        background: #00FF7F
        }
     
    </style>
    
     <apex:sectionHeader title="Brand New DataTable"/>
    <apex:dataTable value="{!items}" var="a" border="1" width="600" cellpadding="8" rowClasses="odd,even" headerClass="three">
    	<apex:column value="{!a.Name}" headerValue="Account Name"/>
        <apex:column value="{!a.phone}" headerValue="Phone Number"/>
        <apex:column value="{!a.industry}" headerValue="Industry"/>
        <apex:column value="{!a.rating}" headerValue="Rating"/>    
    </apex:dataTable>
</apex:page>


Apex Related List
	Use <apex:relatedList> to display lists of records related to the current record.
	The <apex:detail> component displays the details of a particular record, as well as lists of related records, such as contacts, cases, opportunities, and so on. This might be too much, so you can remove those related lists, and then add back just a few, using a different coarse-grained component.

	Revise the markup to omit related lists by adding relatedList="false" to the <apex:detail> component.
<apex:detail relatedList="false"/>
	The account record’s details are still displayed, but the related lists are gone.
Below the <apex:detail /> line, add the following markup.
<apex:relatedList list="Contacts"/>
<apex:relatedList list="Opportunities" pageSize="5"/>

Your page should now display two related lists, for contacts and opportunities. Also notice that you can configure each related list independently, by changing attributes on just that component.

Apex repeat


Apex Looping through list of records using page block table, data table, data list and repeat

Difference b/t Page block table, Data table , data list and repeat.
 All are used display data from Collections in VF page but differs here

pageBlockTable

1)	Inherits Default Salesforce styles
2)	must be under <apex:pageBlock> or <apex:pageBlockSection>
3)	It has the  required attribute "value"
4)	For displaying data we use one or more <apex:column>
5)	up to 1,000 items.

dataTable

1)	Doesn't Inherit Salesforce styles
2)	No <apex:pageBlock> or <apex:pageBlockSection> needed
3)	For displaying data we use one or more <apex:column>, CSS styles can be applied
4)	Headers of column need to mentioned Seperately unless like <apex:pageBlockTable>
5)	up to 1,000 items.

repeat

1)	No Salesforce styles inherited, no need to use <apex:column>
2)	simply data displayed in irregular format.
3)	you can have full control over rendering data.
4)	up to 1,000 items.

Data List:
1)	An ordered or unordered list of values that is defined by iterating over a set of data. 
2)	The body of the <apex:dataList> component specifies how a single item should appear in the list.


<apex:page standardController="Account" recordSetVar="items" >
    <apex:sectionHeader title="Account" subTitle="{!Account.Name}"/>
    <apex:pageBlock>
        <apex:pageBlockSection columns="1">
            <apex:tabpanel>
                <apex:tab label="PageBlockTable">
                    <apex:pageBlock mode="mainDetail">
                        <apex:pageBlockTable value="{!items}" var="a">
                            <apex:column value="{!a.Name}"/>
                            <apex:column value="{!a.Phone}"/>
                            <apex:column value="{!a.Industry}"/>                        
                        </apex:pageBlockTable>
                        
                    </apex:pageBlock>                
                </apex:tab>
                
                <apex:tab label="DataTable">
                    <apex:pageBlock mode="mainDetail">
                        <apex:DataTable value="{!items}" var="a" border="1" width="500">
                            <apex:column value="{!a.Name}" headerValue="Account Name"/>
                            <apex:column value="{!a.Phone}" headerValue="Phone Number"/>
                            <apex:column value="{!a.Industry}" headerValue="Industry"/>                        
                        </apex:DataTable>
                        
                    </apex:pageBlock>                
                </apex:tab>
                
                <apex:tab label="DataList">
                	<apex:pageBlock mode="mainDetail">
                    	<apex:dataList value="{!items}" var="a">
                        	{!a.name}
                        </apex:dataList>
                    
                    </apex:pageBlock>
                </apex:tab>
                
                <apex:tab label="Repeat">
                	<apex:pageBlock mode="mainDetail">
                    	<apex:repeat value="{!items}" var="a">
                            {!a.name} <br/>
                        </apex:repeat>
                    
                    </apex:pageBlock>
                </apex:tab>
            </apex:tabpanel>
        </apex:pageBlockSection>
    </apex:pageBlock>
</apex:page>


Apex Input components
-> we need to use inside the <apex:form>. If we use these type inside the <apex:pageBlocksection> look and feel will good.
ex:
<apex:page >
    <apex:form>
    	<apex:pageBlock title="Student">
        	<apex:pageBlockSection title="Student Form" collapsible="false" columns="1">
            	<apex:pageBlockSectionItem>
                    <apex:outputLabel value="Enter Name:"/>
                    <apex:inputText/>
                </apex:pageBlockSectionItem>
         </apex:pageBlock>    
    </apex:form>
</apex:page>


<apex:inputsecret/>: it will mask the entering data like passwords.
<apex:inputText/>: it is the single line.in Input text it will behave like just text box but if we 
   take <apex:inputField> it get all properties and characteristics from the Object.
   example: If we take Industry from account.
   <apex:inputtext value{!industry}/>----> Then it will just plain text. we need to enter the data.
   <apex:inputField value{!industry}/>---->Then it appear same as account field like Picklist values shown.
  
<apex:inputTextarea/>: it is multi line.
<apex:selectRadio/>: it will give the radio button we can select any one button.
<apex:selectCheckboxes> : it will give you the check boxes and we can select multi.

Attributes
---------------
diasble: by default it will false. If set to true then it won't allow to enter the data.
dir: It allow the entering data direction. Default it is 'LTR'. 
rendered: By default it will true. If we set as false then it display in VF page.
maxlength: we can the maximum length of the input field. It allow p to max length of characters.
size: Size of the input field display in UI like width of the field.
style: we can apply CSS properties.

example:
<apex:page >
    <apex:form>
        First Name: <apex:inputText /> <br/><br/>
        Last Name: <apex:inputText /> <br/><br/>
        Salary: <apex:inputText disabled="true"/><br/><br/>
        Comments: <apex:inputText dir="RTL" rendered="true" maxlength="10" style="background:yellow; color:red"/><br/><br/>
        age: <apex:inputtext size="15"/> <br/><br/>
        Password: <apex:inputSecret /><br/><br/>
        Description :<apex:inputTextarea /><br/><br/>
        Choose Gender:<apex:selectRadio>
            <apex:selectOption itemLabel="Male" itemValue="Male"/>
            <apex:selectOption itemLabel="Female" itemValue="Female"/>
        </apex:selectRadio><br/><br/>
        
        Languages known: 
        <apex:selectCheckboxes>
        <apex:selectOption itemLabel="Java" itemValue="Java"/>
         <apex:selectOption itemLabel="Apex" itemValue="APex"/>
            <apex:selectOption itemLabel="C++" itemValue="C++"/>
            <apex:selectOption itemLabel="C#.net" itemValue="C#.net"/>
            <apex:selectOption itemLabel="Python" itemValue="Python"/>
        
        </apex:selectCheckboxes>
        
        
    </apex:form>
</apex:page>


<apex:page >
    <apex:form>
    	<apex:pageBlock title="Student">
        	<apex:pageBlockSection title="Student Form" collapsible="false" columns="1">
            	<apex:pageBlockSectionItem>
                    <apex:outputLabel value="Enter Name:"/>
                    <apex:inputText/>
                </apex:pageBlockSectionItem>
            
                <apex:pageBlockSectionItem>
                	<apex:outputLabel value="Mobile Number:"></apex:outputLabel>
                    <apex:inputText/>
                </apex:pageBlockSectionItem>
                
                 <apex:pageBlockSectionItem>
                	<apex:outputLabel value="Age:"></apex:outputLabel>
                    <apex:inputText/>
                </apex:pageBlockSectionItem>
                
                 <apex:pageBlockSectionItem>
                	<apex:outputLabel value="Address:"></apex:outputLabel>
                    <apex:inputTextarea/>
                </apex:pageBlockSectionItem>
                
                 <apex:pageBlockSectionItem>
                	<apex:outputLabel value="Comments:"></apex:outputLabel>
                    <apex:inputTextarea/>
                </apex:pageBlockSectionItem>
                
                 <apex:pageBlockSectionItem>
                	<apex:outputLabel value="Identification Number:"></apex:outputLabel>
                    <apex:inputText/>
                </apex:pageBlockSectionItem>
            </apex:pageBlockSection>
        
        </apex:pageBlock>
    
    </apex:form>
</apex:page>

Controllers
These will specify the action that should be performed on the server side when user interacts with any of the elements in the user interfaces. 

Controllers are classified into 4 types

1. Standard controller
2. Standard list controller
3. Custom controller
4. Extensions

These will specify the action that should be performed on the server side when user interacts with any of the elements in the user interfaces. 

Controllers are classified into 4 types

1. Standard controller
2. Standard list controller
3. Custom controller
4. Extensions
Standard Controller
It will be used to get the properties from the standard objects.

 <apex:page standardController="Account">

 </apex:page>

Example 1
-------------
<apex:page standardController = "Account" >
    <apex:form>
    	<apex:pageBlock title="Account">
        	<apex:pageBlockSection title="Basic Info">
                <apex:inputField value="{!Account.Name}"/>
                <apex:inputField value="{!Account.Phone}"/>
                <apex:inputField value="{!Account.Industry}"/>
                <apex:inputField  value="{!Account.Rating}"/>
                <apex:inputField value="{!Account.OwnerId}"/>
                <apex:inputField value="{!Account.Active__c}"/>
            
            </apex:pageBlockSection>
        
        </apex:pageBlock>
    
    </apex:form>
</apex:page>


Example 2
---------------
<apex:page standardController = "Contact" >
    <apex:sectionHeader title="Contact" subTitle="New Contact"/>
    <apex:form>
    	<apex:pageBlock title="Contact">
            <apex:pageBlockButtons>
            	<apex:commandButton value="Save" action="{!save}"/>
                <apex:commandButton value="Cancel" action="{!cancel}"/>
            </apex:pageBlockButtons>
        	<apex:pageBlockSection title="Basic Info">
                <apex:inputField value="{!Contact.FirstName}"/>
                  <apex:inputField value="{!Contact.LastName}"/>
                <apex:inputField value="{!Contact.OtherPhone}"/>
                <apex:inputField value="{!Contact.Email}"/>
                <apex:inputField  value="{!Contact.Birthdate}"/>
                <apex:inputField value="{!Contact.CleanStatus}"/>
                <apex:inputField value="{!Contact.Languages__c}"/>
            
            </apex:pageBlockSection>
        
        </apex:pageBlock>
    
    </apex:form>
</apex:page>



Example 3
----------------------------

https://sfthcom-dev-ed--c.visualforce.com/apex/StdControllerEx3?Id=0012y0000092UIe

<apex:page standardController="Account">
    <apex:form>
    	<apex:pageBlock title="{!Account.Name}">
        	
        	<apex:pageBlockSection title="Basic details">
                <apex:outputField value="{!Account.Name}"/>
                <apex:outputField value="{!Account.Phone}"/>
                <apex:outputField value="{!Account.Industry}"/>
                <apex:outputField  value="{!Account.Rating}"/>
                <apex:outputField value="{!Account.Active__c}"/>
            
            </apex:pageBlockSection>
        </apex:pageBlock>
    </apex:form>
</apex:page>


<apex:page standardController="Account">
    <apex:form>
    	<apex:pageBlock title="{!Account.Name}">
        	<apex:inlineEditSupport >
        	<apex:pageBlockSection title="Basic details">
                <apex:outputField value="{!Account.Name}"/>
                <apex:outputField value="{!Account.Phone}"/>
                <apex:outputField value="{!Account.Industry}"/>
                <apex:outputField  value="{!Account.Rating}"/>
                <apex:outputField value="{!Account.Active__c}"/>
            
            </apex:pageBlockSection>
            </apex:inlineEditSupport>
        </apex:pageBlock>
    </apex:form>
</apex:page>

Example 4
----------------------------
<apex:page standardController="Account">
    <apex:sectionHeader title="Account" subTitle="{!Account.Name}"/>
    <apex:form>
    	<apex:pageBlock title="{!Account.Name}" mode="inlineEdit">
        	<apex:pageBlockButtons location="bottom">
            	<apex:commandButton value="Save" action="{!save}"/>
                <apex:commandButton value="Edit" action="{!Edit}"/>
                <apex:commandButton value="Delete" action="{!Delete}"/>
            </apex:pageBlockButtons>
            
            <apex:pageBlockSection title="Basic Info" collapsible="false">
            	<apex:outputField value="{!Account.Name}"/>
                <apex:outputField value="{!Account.Industry}"/>
                <apex:outputField value="{!Account.Rating}"/>
                <apex:outputField value="{!Account.Phone}"/>
                <apex:outputField value="{!Account.Name}"/>            
            </apex:pageBlockSection>
            
            <apex:pageBlockSection title="Other Info" collapsible="false">
            	<apex:outputField value="{!Account.Type}"/>
                <apex:outputField value="{!Account.Active__c}"/>
            
            </apex:pageBlockSection>
        
        </apex:pageBlock>
    
    </apex:form>
</apex:page>


Standard List controller
	The standard list controller allows you to create Visualforce pages that can display or act on a set of records.
	Displaying a list of records is a fundamental behavior of almost all web apps. Visualforce makes it extremely easy to display a list of records of the same type, using just markup, no back-end code. The secret, as usual, is the standard controller, in this case, the standard list controller.
	The standard list controller provides many powerful, automatic behaviors such as querying for records of a specific object and making the records available in a collection variable, as well as filtering of and pagination through the results. 
	Adding the standard list controller to a page is very similar to adding the standard (record) controller, but with the intent of working with many records at once, instead of one record at a time.
Standard List View Example:

<apex:page standardController="Contact" recordSetVar="contacts">
    <apex:pageBlock title="Contacts List">
        <!-- Contacts List -->
        <apex:pageBlockTable value="{! contacts }" var="ct">
            <apex:column value="{! ct.FirstName }"/>
            <apex:column value="{! ct.LastName }"/>
            <apex:column value="{! ct.Email }"/>
            <apex:column value="{! ct.Account.Name }"/>
        </apex:pageBlockTable>
    </apex:pageBlock>
</apex:page>

After running the code page will be display like this.
 

Add List View Filtering to the List:
	Use {! listViewOptions } to get a list of list view filters available for an object. Use {! filterId } to set the list view filter to use for a standard list controller’s results.
	The standard list controller provides a number of features you can use to alter the display of the list. One of the most powerful is list view filters. You create list view filters declaratively, using clicks instead of code, and the standard list controller lets you use any defined list view filter on the page.
Syntax :
Filter:
<apex:selectList value="{! filterId }" size="1">
    <apex:selectOptions value="{! listViewOptions }"/>
    <apex:actionSupport event="onchange" reRender="contacts_list"/>
</apex:selectList>
Example:
<apex:page standardController="Contact" recordSetVar="contacts">
    <apex:form>
        <apex:pageBlock title="Contacts List" id="contacts_list">
            Filter:
            <apex:selectList value="{! filterId }" size="1">
                <apex:selectOptions value="{! listViewOptions }"/>
                <apex:actionSupport event="onchange" reRender="contacts_list"/>
            </apex:selectList>
            <!-- Contacts List -->
            <apex:pageBlockTable value="{! contacts }" var="ct">
                <apex:column value="{! ct.FirstName }"/>
                <apex:column value="{! ct.LastName }"/>
                <apex:column value="{! ct.Email }"/>
                <apex:column value="{! ct.Account.Name }"/>
            </apex:pageBlockTable>
        </apex:pageBlock>
    </apex:form>
</apex:page>


Add Pagination to the List
	Use the pagination features of the standard list controller to allow users to look at long lists of records one “page” at a time.
	The features you’ve developed so far are very nice, and work well with the short list of records that are provided as sample data in a Developer Edition organization. But what happens when you have a real organization, with hundreds or thousands—or even millions—of records? Looking at them all on one page doesn’t work very well!
	In fact, the standard list controller by default only shows the first 20 records that match your filter criteria, if any. How can you let people access more than those first 20 records, or perhaps more records per page than just 20?
	The answer is pagination. This is a standard web app user interface element, which lets you move forward and backward through a long list of records a “page” at a time, usually using Next and Previous links. You can add this to your page using the standard list controller, as well as conveniences such as a progress indicator and a menu to change the number of records per page.

1.	Below the contact list <apex:pageBlockTable>, add the following markup.
2.	1q	`<!-- Pagination -->
3.	<table style="width: 100%"><tr>
4.	    <td>
5.	        <!-- Page X of Y -->
6.	    </td>
7.	    <td align="center">
8.	        <!-- Previous page -->
9.	        <!-- Next page -->
10.	    </td>
11.	    <td align="right">
12.	        <!-- Records per page -->
13.	    </td>
</tr></table>
Copy
This creates an HTML table that will hold the three pagination controls you’re going to add.  In your real pages you might use more semantic markup with separate styling, but for the moment, plain HTML is concise and steps out of the way.
14.	Replace the <!-- Page X of Y -->comment line with the following markup.
15.	Page: <apex:outputText
    value=" {!PageNumber} of {! CEILING(ResultSize / PageSize) }"/>
Copy
This adds a progress indicator to the list, indicating which page the user is viewing, and how many others there are. If you’re trying this in a DE organization, it probably says “Page 1 of 1.”
16.	Replace the <!-- Previous page --> and <!-- Next page -->comment lines with the following markup.
17.	<!-- Previous page -->
18.	<!-- active -->
19.	<apex:commandLink action="{! Previous }" value="« Previous"
20.	     rendered="{! HasPrevious }"/>
21.	<!-- inactive (no earlier pages) -->
22.	<apex:outputText style="color: #ccc;" value="« Previous"
23.	     rendered="{! NOT(HasPrevious) }"/>
24.	&nbsp;&nbsp;
25.	<!-- Next page -->
26.	<!-- active -->
27.	<apex:commandLink action="{! Next }" value="Next »"
28.	     rendered="{! HasNext }"/>
29.	<!-- inactive (no more pages) -->
30.	<apex:outputText style="color: #ccc;" value="Next »"
     rendered="{! NOT(HasNext) }"/>
Copy
This markup provides Previous and Next links on the page. The markup covers two possibilities: when there are more records to view in a given direction, then the link is active; and when there aren’t more pages in a given direction, the link is disabled.
31.	Replace the <!-- Records per page -->comment line with the following markup.
32.	Records per page:
33.	<apex:selectList value="{! PageSize }" size="1">
34.	    <apex:selectOption itemValue="5" itemLabel="5"/>
35.	    <apex:selectOption itemValue="20" itemLabel="20"/>
36.	    <apex:actionSupport event="onchange" reRender="contacts_list"/>
</apex:selectList>
Copy
This markup provides a menu for changing the number of records per page. Here we’ve only added an option to display fewer records on a page. Select “5” from the list, and see what happens to the list, and the other controls.
The results are a list page that has quite a few features that are provided by the standard list controller.
 
In the progress indicator, three properties are used to indicate how many pages there are: PageNumber, ResultSize, and PageSize. The last two are actually used in a formula expression, which rounds the number off to the nearest integer. This prevents the indicator from saying something nonsensical, such as “Page 2 of 1.6.”
In the pagination controls, the <apex:commmandLink> components reference two action methods provided by the standard list controller, Previous and Next. The result is a link that performs the Previous or Next action.

Example with list view and pagination: Refer “Contact_listview” VF page.
 
 
 

Out put: 
 

Custom Controller

1. If you want to define any apex class in the VF page then class should be public or global. 
2. Apex class should have constructor without parameter or no constructor in the class. 
3. If you want to refer to variable in the apex class, then variable should be public or global. 
4. variable should have setter and getter properties.
5. setter: This will take data from VF page and set it to variable.
   getter: This will take data from apex variable and display in the VF page. 
6. Order of execution:
	when we open the page, first object will be created for the apex class.
	Constructor will run. 
 	getter methods will run. 
	load the data in the page. 
->If we gave rendered for the button then only specific Page block(specified id only) will refresh instead of entire page. 
ex:In the below example if we click on the Add button then only Page block having id 'pb' only refresh instead of entire. It usefull in perfomance issues.
In real time single page will have lot code to avoid latency we use this.

Example1:
<apex:page controller="Calc">
    <apex:sectionHeader title="Calculator" subtitle="Calc"/>    
    <apex:form>
    	<apex:pageBlock id="pb">
            <apex:pageBlockButtons>
                <apex:commandButton value="Add" action="{!add}" reRender="pb"/>
            </apex:pageBlockButtons>
        </apex:pageBlock>    
    </apex:form>
</apex:page>



->Apex class code:
public class Apex_Ex1 {
    public string name {set; get;}
    public string city {set; get;}
    
    public Apex_Ex1(){
        name = 'Johnsnow';
        city = 'Newyork';
    }
}

->VF page code:
<apex:page controller="Apex_Ex1">
    {!name}
    <br/><br/>
    {!city}
</apex:page>


Example 2
---------------------------------

public class Student {
    public string name {set; get; }
    public integer age {set; get; }
    public decimal courseFees {set; get; }
    public string address {set; get; }
    public boolean isAmountPaid {set; get; }
    public string mobile {set; get; }
    
    public Student(){
        name = 'Jennifer';
        age = 30;
        courseFees = 10000;
        address = 'Flat 1, USA, Newyork';
        isAmountPaid = true;
        mobile = '+17878787874';
    }
  
}


<apex:page controller="Student" >
    Name: {!name} <br/> <br/>
    age: {!age} <br/> <br/>
    Course fees: {!courseFees} <br/> <br/>
    Mobile: {!Mobile}<br/> <br/>
    Address: {!address}<br/> <br/>
    isAmountPaid: {!isAmountPaid}<br/> <br/>
   
</apex:page>

Example 3 
---------------------
public class Calc {
    public Integer aval {set; get;}
    public integer bval {set; get;}
    public integer result {set; get; }
    
    public void add(){
        result = aval + bval;
    }
    
    public void mul(){
        result = aval * bval;
    }
    
    public void Clear(){
        aval = null;
        bval = null;
        result = null;
    }
}


<apex:page controller="Calc">
    <apex:sectionHeader title="Calculator" subtitle="Calc"/>
    
    <apex:form>
    	<apex:pageBlock id="pb">
            <apex:pageBlockButtons>
                <apex:commandButton value="Add" action="{!add}" reRender="pb"/>
                <apex:commandButton value="Mul" action="{!mul}" reRender="pb"/>     
                <apex:commandButton value="Clear" action="{!clear}" reRender="pb"/>
            </apex:pageBlockButtons>
            
            <apex:pageBlockSection>
            	<apex:pageBlockSectionItem>
                    <apex:outputLabel value="Enter AVal:"/>
                    <apex:inputText value="{!aval}"/>                
                </apex:pageBlockSectionItem>
                
                <apex:pageBlockSectionItem>
                    <apex:outputLabel value="Enter BVal:"/>
                    <apex:inputText value="{!bval}" />             
                </apex:pageBlockSectionItem>
                        
               <apex:pageBlockSectionItem>
                Result is:
                <apex:outputLabel value="{!result}"></apex:outputLabel>
                </apex:pageBlockSectionItem>
            
            </apex:pageBlockSection>
        
        </apex:pageBlock>
    
    </apex:form>
</apex:page>



Example 4
---------------------
public class BankInterestCalc {
    public Decimal amount {set; get;}
    public Decimal years {set; get;}
    public Decimal rate {set; get;}
    public Decimal intrest {set; get;}
    
    public void submit(){
        intrest = (amount * years * rate)/100;
    }
    
    public void reset(){
        amount = null;
        years = null;
        rate = null;
        intrest = null;
    }
}


<apex:page controller = "BankInterestCalc" >
    <apex:sectionHeader title="HDFCBank" subtitle="Interest Calculator"/>
    
    <apex:form>
        <apex:pageBlock title="Intrest" id="pb">
            <apex:pageBlockButtons location="top">
                <apex:commandButton value="Submit" action="{!submit}" reRender="pb"/>
                <apex:commandButton value="Clear" action="{!reset}" reRender="pb"/>
                
            </apex:pageBlockButtons>
            
            <apex:pageBlockSection columns="1">
                <apex:pageBlockSectionItem>                
                    <apex:outputlabel value="Enter Amount:"/>
                    <apex:inputText value="{!amount}"/>                
                </apex:pageBlockSectionItem>
                
                <apex:pageBlockSectionItem>
                    <apex:outputLabel value="Enter Rate:"></apex:outputLabel>
                    <apex:inputText value="{!rate}"/>
                </apex:pageBlockSectionItem>
                <apex:pageBlockSectionItem>
                    <apex:outputLabel value="Enter Years:"></apex:outputLabel>
                    <apex:inputText value="{!years}"/>
                </apex:pageBlockSectionItem>
                
                <apex:pageBlockSectionItem>
                    <apex:outputLabel value="Interest is :"></apex:outputLabel>
                    <apex:inputText value="{!Intrest}"/>
                </apex:pageBlockSectionItem>
            </apex:pageBlockSection>
            
            
            
        </apex:pageBlock>
        
    </apex:form>
</apex:page>




Account 


Account acc = new Account();
acc.name = 'TCS';
acc.phone = '13456565';

insert acc;


Exception handling
--------------------
try{
	//code
}
catch(Exception e){

}



try{
	stmt1;
	stmt2; 
	stmt3;
}catch(Exception e){


}

->To display message to user in UI salesfoce have predefined class called 'Apexpages.Message' in Apex class and to display this message in VF page we need to include <apex:pagemessages>.
ex:
Apexpages.Message msg = new Apexpages.Message(Apexpages.Severity.CONFIRM, 'Record Saved Successfully..');
Apexpages.addMessage(msg);


Example 5
------------------
public class ExceptionHandle {
    public string accName {set;get;}
    public string accRating {set; get;}
    public string accPhone {Set; get; }
    public string accIndustry {set; get;}
    
    public void create(){
        
        try{
            Account data = new Account();
            data.name = accname;
            data.Rating = accRating;
            data.Phone = accPhone;
            data.Industry = accIndustry;
            
            insert data;
            
            Apexpages.Message msg = new Apexpages.Message(Apexpages.Severity.CONFIRM, 'Record Saved Successfully..');
            Apexpages.addMessage(msg);
        }catch(Exception e){
            Apexpages.Message msg1 = new ApexPages.Message(Apexpages.Severity.ERROR, ''+e.getCause());
            Apexpages.addMessage(msg1);
        }
    }
}


<apex:page controller="ExceptionHandle">
    <apex:sectionHeader title="Account" subtitle="New account"/>
    <apex:form id="fm">
        <apex:pagemessages />
        <apex:pageBlock title="Account">
            <apex:pageBlockButtons>
            	<apex:commandButton value="Save" action="{!create}" reRender="fm"/>
            
            </apex:pageBlockButtons>
            
            <apex:pageBlockSection columns="1">
            	<apex:pageBlockSectionItem>
                    <apex:outputLabel value="Account Name:"/>
                    <apex:inputText value="{!accName}"/>
                </apex:pageBlockSectionItem>
            
                <apex:pageBlockSectionItem>
                    <apex:outputLabel value="Account Industry:"/>
                    <apex:inputText value="{!accIndustry}"/>
                </apex:pageBlockSectionItem>

                
                <apex:pageBlockSectionItem>
                    <apex:outputLabel value="Account Rating:"/>
                    <apex:inputText value="{!accRating}"/>
                </apex:pageBlockSectionItem>

                
                <apex:pageBlockSectionItem>
                    <apex:outputLabel value="Account Phone:"/>
                    <apex:inputText value="{!accPhone}"/>
                </apex:pageBlockSectionItem>

            </apex:pageBlockSection>
        </apex:pageBlock>
        
    </apex:form>
</apex:page>


Example 6
-------------------------------
Pagerefernce will be used to where next navigate the page after clicking button in VF page.

public class SobjectEx1 {
    public opportunity opt {set; get;}
    
    public SobjectEx1(){
        opt = new Opportunity();
    }
    
    public PageReference create(){
        PageReference p;
        
        try{
            insert opt;
            p = new PageReference ('/'+opt.id);
        }catch(Exception e){
             Apexpages.Message msg = new ApexPages.Message(Apexpages.Severity.ERROR, ''+e.getCause());
            Apexpages.addMessage(msg);
        }
        
        return p;
    }
}



<apex:page controller="SobjectEx1" >
    <apex:sectionHeader title="Opportunity" subtitle="New Opportunity"/>
    <apex:form>
        <apex:pagemessages/>
        <apex:pageBlock title="Example">
        	<apex:pageBlockButtons>
            	<apex:commandButton value="Save" action="{!create}"/>
                        
            </apex:pageBlockButtons>
            
            <apex:pageBlockSection>
            	<apex:inputField value="{!opt.name}"/>
                 <apex:inputField value="{!opt.stageName}"/>
                <apex:inputField value="{!opt.CloseDate}"/>
                <apex:inputField value="{!opt.Type}"/>
                <apex:inputField value="{!opt.Amount}"/>
                            
            </apex:pageBlockSection>
        
        </apex:pageBlock>
    </apex:form>
</apex:page>


Extensions

	It is combination of standard controller and custom controller.
	When ever we click on New button on account normally standard page will display if we want to use a new VF page then create a new VF with standard controller as ‘Accout’ and override page in button section. So that whenever we click on new button it will display the new VF page instead of standard page.

	If we want define any apex class as extension then the class should have constructor with parameter then we use that class as extension. The parameter is ‘(Apexpages.StandardController controller)’ will refer the whatever the record we are referring the VF page(editing or creating or deleting record).

 


Example1:
public class ExtesnionEx1 {
    Public Account acc {set; get;}
        public ExtesnionEx1(Apexpages.StandardController controller){
        acc = (Account)controller.getRecord();
        }

       public PageReference SaveIt(){
        PageReference p;
        
        Integer count = [select count() from Account where name =: acc.Name];
        if(Count > 0){
            Apexpages.Message msg = new Apexpages.Message(Apexpages.Severity.Error, 'Duplicate Record Found');
            Apexpages.addMessage(msg);
        }else{
            insert acc;
            p = new PageReference('/'+acc.Id);
        }
        
        return p;
    }
}


<apex:page standardController="Account" extensions="ExtesnionEx1">
    <apex:form>
        <apex:pageMessages />
        
        <apex:pageBlock title="Account">
            <apex:pageBlockButtons location="top">
            	<apex:commandButton value="Save" action="{!SaveIt}"/>
            	<apex:commandButton value="Cancel" action="{!cancel}"/>
           </apex:pageBlockButtons>
        
            <apex:pageBlockSection>
            	<apex:inputField value="{!Account.Name}"/>
                <apex:inputField value="{!Account.Industry}"/>
                <apex:inputField value="{!Account.rating}"/>
                <apex:inputField value="{!Account.phone}"/>
            
            </apex:pageBlockSection>
        </apex:pageBlock>
    
    </apex:form>
</apex:page>

Example2: create a new button to send emails to the related contacts.once new button created we need add that button Page layout. In apex class by using “acc = (Account)controller.getRecord();” we will get only record Id but if we want more fields then write below code along with this.

String[]  fields = new string[] {‘name’, ‘phone’, ‘rating’};
Controller.addfields(fields);

Apex code:
 

 

VF code:
 

Example3: create a new button to delete multiple records in list view. “Apexpages.standardcontroller”
Will hold single record id if we want hold multiple id’s then use “Apexpages.standardSetcontroller”.


Apex code:
 

VF code:
 




SOQL 

	SOQL  - Salesforce Object Query Language
	SOQL is used to fetch the data from sobject(Standard object or Custom objects).
	Using SOQL we can also fetch the data from related objects (Child or parent) using relation fields.
	SOQL will return the result in the form of List<subject> or Map(Id, sObject).
	SOQL will maximum of 50,000 records in a single call within the method. If there is one SOQL query it will give max 50,000 or if multiple SOQL queries then together it will give 50,000 max within the method.
	We can run 100 max SOQL queries in method. If one method is calling other method then together it will allow 100.
	We can perform 150 max DML operations in method. If one method is calling other method then together it will allow 150.


Ex1:
Public class ex(){
Void method1(){
100 SOQL queries
}
Void method2(){
 	100 SOQL queries
}
	}

EX2:
Public class ex(){
Void method1(){
60 SOQL queries
Void method2()
}
Void method2(){
 	40 SOQL queries
}
	}

Note: Limit SOQL exception will be raised since number queries for method is 100 .

public class LimitsApex {
    public void TestLimits(){
        for(Integer i = 0; i < 50; i++){
            List<account> acc = [select id from Account limit 1];
        }
        
        method2();
    }
    
    public void method2(){
         for(Integer i = 0; i < 52; i++){
            List<account> acc = [select id from Account limit 1];
        }
    }
}


Ex: if we run below SOQL queries from method then it will treat 2 queries from the limit

List<Account> Accounts = [select id from Account];
List<Contact> Contacts = [select id from Contact where Accountid in : Accounts];

 


If we write Parent-child or child to parent query then it will consider as one query only.

List<Contact> Contacts1 = [select id from Contact where Accountid in (select id from Account) ];

 

	Best practice to write SOQL queries is using Relationship queries or use where in sub query. Try to avoid SOQL queries	 within the Loop.
List<Contact> Contacts1 = [select id from Contact where Accountid in (select id from Account) ];
(Or)
List<Contact> Contacts1 = [select id from Contact where Accountid in (select id from Account)]



	SOQL will give you result based on the order of Creation date(Letest to old).

 
Syntax:

Select <fieldnames> from <Objectname>
[where <condition>]
[groupby <coloumn>]
[Having <conditions>]
[order by <coloumn name>]
limit


Select - Retrieve the records from object.

Select Id, Name, Phone, Industry, Rating, Active__c from Account
select Id, firstname, lastname from Contact

Select Id, Phone , Industry, Rating from Account where Industr
y = 'Banking'
Select Id, Phone , Industry, Rating from Account where Rating = 'Hot'

Select Id, Phone , Industry, Rating from Account where Rating = 'Hot' and Industry = 'Banking'
Select Id, Phone , Industry, Rating from Account where Rating = 'Hot' Or Industry = 'Banking'

Select Id, Phone , Industry, Rating from Account where Rating = 'Hot' Or Industry = 'Banking' Limit 5

Select Id, Phone , Industry, Rating from Account Limit 10


Select Id, Name , Email__c, Designation__c, Salary__c, Address__c from Employee__c where Name = 'Jessica'

Select Id, Name , Email__c, Designation__c, Salary__c, Address__c from Employee__c where Name IN ( 'Jessica', 'Jennifer')

Select Id, Name , Email__c, Designation__c, Salary__c, Address__c from Employee__c where salary__C > 80000



public class SOQLEx1 {
    public void GetAccRecords(){
        List<Account> accList = [Select Id, Name, Phone from Account limit 5];
        
        for(Account acc : accList){
            system.debug('ID : '+acc.Id+'  Name:'+acc.Name+'    Phone:'+acc.Phone);
        }
        
    }
}

Select MIN(Salary__c) from Employee__c 
Select MAX(Salary__c) from Employee__c 
Select SUM(Salary__c) from Employee__c 
Select AVG(Salary__c) from Employee__c 




DML statements

DML stands for Data manipulation language. DML operations ae performed on the Sobjects.

	Insert- It is used to create records. Once after successful insertion salesforce will assign unique ID for each record. 
	Update - Modifying existing records. 
	Upsert – If record exist update it else create a new record.
	Delete - Removing the record from the object. After deleting the record it goes to recycle bin.
	UnDelete - Restore the records available in recycle bin.

Insert: Once new record inserted it will create new unique Id for that record.


Insert sObject;
Insert listofRecords;

Account acc = new Account();
acc.Name = 'TestRecord';
acc.Phone = '909090909090';
acc.Industry = 'Energy';
acc.Rating = 'Hot';

insert acc;


Contact con = new Contact();
con.lastname = 'abc';
con.Email = 'abc@yahoo.com'
con.Fax = '9099090090';

insert con;


Employee__c emp = new Employee__c();
emp.name = 'Sandy';
emp.salary__c = 100000;
emp.Email__c = 'Sandy@gmail.com';

insert emp;

ex: 
Account acc = new Account();
acc.Name = 'TestRecord';
acc.Phone = '909090909090';
acc.Industry = 'Energy';
acc.Rating = 'Hot';
insert acc;

Contact con = new Contact();
con.lastname = 'abc';
con.Email = 'abc@yahoo.com'
con.Fax = '9099090090';
con.accountId = acc.Id; (Acc.id is new unique id created just now.
insert con;

ex: whenever new account is created then we also need to create a new contact as well. Use below code.
	
VF page logic:
<apex:page controller = “DML”>
  <apex:form>  
        <apex:pageblock title = “DML example”>
           <Apex:pageclocksection title = “Account” coloumn = 1 collapsible = “false”>
              <apex:inputtext value= “{!acc.name}”/>// if we referring to the Sobject then no need to take                                         label seperatly by using output label by default label will come. If a variable then we need to provide lablel.
              <apex:inputtext value= “{!cc.phone}”/>
              <apex:inputtext value= “{!acc.industry}”/>
              <apex:inputtext value= “{!acc.rating}”/>
           </Apex:pageclocksection>

           <Apex:pageclocksection title = “Contact” coloumn = 1 collapsible = “false”>
              <apex:inputtext value= “{!con.lastname}”/>
              <apex:inputtext value= “{!con.email}”/>
              <apex:inputtext value= “{!con.fax}”/>
           </Apex:pageclocksection>
        </apex:pageblock
  </apex:form>

    <apex
</apex:page>
Public class dml(){
   public account acc {set;get};
   public contact con {set;get};
   public dml(){
      acc = new account();
      con = new contact();
    }
    Public pagerefernce create(){
     Insert.acc;
      con.accountId = acc.Id; 
      insert con;
      pagereference p = new pagerefernce(‘/’_acc.id);
      return p;
     }
}

Requirement: As pe the below requirement header part is account details and detail section is the contact. If click on the ‘+’ then new row to be added. Finally if we click on save Account and all below contact to be saved.

 
Apex Class:

 


VF page code for the above requirement:
 
Continue VF code
 




Bulk insert

public class SOQLEx1 {
   
    
    public void InsertAccountList(){
        
        List<Account> accList = new List<Account>();
        
        Account acc1 =  new Account(name = 'AccountOne', Rating='Hot', Industry='Banking');
        accList.add(acc1);
        
        Account acc2 = new Account(name = 'AccountTwo', Rating='Cold', Industry='Energy');
        accList.add(acc2);
        
        insert accList;
        
        
    }
}	


SOQLEx1 soql = new SOQLEx1();
soql.InsertAccountList();


Test Data Creation
-----------------------------------
    
public void testData(){
        List<Employee__c> empList = new List<Employee__c>();
        for(integer i = 0; i < 30; i++){            
        Employee__c emp1 =  new Employee__c(name = 'Employee'+i, Email__c='Employee1@gmail.com', age__c =25, Salary__c= 20000);
        empList.add(emp1);        
        }
    }


Update
------------------

List<Account> accList = [Select id, industry, Phone, rating from Account where rating = 'Warm'];

for(Account acc : accList){
    acc.industry = 'Banking';
    acc.phone = '9876543210';
}

update accList;


Delete
--------------------

List<Account> accList = [Select id from Account where rating = 'Warm'];
delete accList;


List<Account> accList = [select id, name, phone, industry ,rating from Account where name like '%import%'];
delete accList;

UnDelete
-----------------------

isDeleted = false //Active
isDeleted = true //Deleted


List<Account> accList = [select id, name, phone, industry ,rating from Account where isDeleted=true ALL ROWS];
undelete accList;

List<Account> accounts = [select id from Account where name = 'Microsfot'];
List<Contact> contacts = [select id, lastname, firstname from Contact where AccountId in : accounts];

Upsert:
Using Upsert existing records will be update else new records will be created. In below example exsting ACC record will be update with the Id and new record will created for ‘a’.

List<Account> Accounts = new List<Account>;
Account acc = [select Id, Name, Rating from Account where name = ‘Genepoint’]

Account a = new account();
a.name= ‘Testing’ 
a.phone= ‘040-222’
accounts.add(Acc);
accounts.add(a);
upsert accounts();// acc will be update and ‘a’ will be created.

	We can upsert by using Id or external Id. By default Id will be taken if we want use external Id follow syntax.
Upsert subject[].// it will check based on ID 
Upsert subject[] ExtId. It will check based on the External id

The upsert statement matches the sObjects with existing records by comparing values of one field. If you don’t specify a field when calling this statement, the upsert statement uses the sObject’s ID to match the sObject with existing records in Salesforce. 
Alternatively, you can specify a field to use for matching. For custom objects, specify a custom field marked as external ID. For standard objects, you can specify any field that has the idLookup property set to true. For example, the Email field of Contact or User has the idLookup property set.
Syntax:  upsert sObjectList Account.Fields.Fielsname;


Ex:
// Insert the Josh contact
Contact josh = new Contact(FirstName='Josh',LastName='Kaplan',Department='Finance');       
insert josh;
// Josh's record has been inserted
//   so the variable josh has now an ID
//   which will be used to match the records by upsert
josh.Description = 'Josh\'s record has been updated by the upsert operation.';
// Create the Kathy contact, but don't persist it in the database
Contact kathy = new Contact(FirstName='Kathy',LastName='Brown',Department='Technology');
// List to hold the new contacts to upsert
List<Contact> contacts = new List<Contact> { josh, kathy };
// Call upsert
upsert contacts;
// Result: Josh is updated and Kathy is created.

Ex:

Contact jane = new Contact(FirstName='Jane',
                         LastName='Smith',
                         Email='jane.smith@example.com',
                         Description='Contact of the day');
insert jane;
// 1. Upsert using an idLookup field
// Create a second sObject variable.
// This variable doesn’t have any ID set.
Contact jane2 = new Contact(FirstName='Jane',
                         LastName='Smith',  
                         Email='jane.smith@example.com',
                         Description='Prefers to be contacted by email.');
// Upsert the contact by using the idLookup field for matching.
upsert jane2 Contact.fields.Email;
// Verify that the contact has been updated
System.assertEquals('Prefers to be contacted by email.',
                   [SELECT Description FROM Contact WHERE Id=:jane.Id].Description);



SOQL Functions
ALL ROWS
If we do the normal SQOL query then it will fetch record from data base(Non deleted). If we want get the all records including deleted(Present in Recycle bin) we will use All rows.
Select Id, Name, Phone, Industry, Rating from Account // non deleted record will get

Select Id, Name, Phone, Industry, Rating from Account ALL ROWS // Including deleted records.

Limit
This will how many records we want to return from the List. It will return the latest created records based on created date.
SOQL will give you result based on the order of Creation date.
In below example it will return the latest 5 updated/Modified. 
Select Id, Name, Phone, Industry, Rating from Account  Limit 5

If we want use the limit dynamically then use below syntax. Below counter value we can get from the VF page as well.

Integer 	Count = 3 or {!Countervalue}(Value from the VF page)
Select Id, Name, Phone, Industry, Rating from Account  Limit : Count
Offset
This will specify the from which position records should be returned. Maximum value is 2000. In below example it give the records from 5th position.
Select Id, Name, Phone, Industry, Rating from Account  offset 5

	If we want use the offset dynamically then use below syntax. Below counter value we can get from the VF page as well.

Integer 	Count = 3 or {!Countervalue}(Value from the VF page)
Select Id, Name, Phone, Industry, Rating from Account  offset : Count

	We can also take limit and Offset together for we need use Limit first thenOffset. In below example it return 10 records from 5th position.
Select Id, Name, Phone, Industry, Rating from Account limit 10 offset 5 

Dynamic syntax:
Integer start = 5;
Integer count = 10
Select Id, Name, Phone, Industry, Rating from Account limit : count  offset: 10

Order by
We can display the records based on the field either AESC/DESC. By default it is Ascending order. 
Select Id, Name, Phone, Industry, Rating from Account order by name ASC
Select Id, Name, Phone, Industry, Rating from Account order by name DESC

	If we want get the recently created 10 record
Select Id, Name, Phone, Industry, Rating from Account order by name CreatedDate DESC limit 10
Like
_ (underscore): It will refer to one character
Name like ‘_sam’: First character can be anything it will return the record that
Name like ‘s_k’: second character can be anything it will return the records.

‘%’-> it will return the records that contain the string.
Name like ‘s%’-> it will return the records starts with ‘s’.

	Query to fetch all account names start with ‘united’.
Select id, name, phone from account where name like ‘united%’
	Query to fetch all account whose name ends with ‘gas’.
Select id, name, phone from account where name like ‘%gas’
	Query to fetch all account whose name contains ‘anp’.
Select id, name, phone from account where name like ‘%anp%’
	Query to fetch all account whose name has ‘k’ second letter 
Select id, name, phone from account where name like ‘_k%’
	Query to fetch all account whose name contains ‘s’ in second position from last 
Select id, name, phone from account where name like ‘%s_’


If we want use the like command in APEX class then we need to create a query as string in below and use.

Public string stringtext(set; get;)
Public string query1(set; get;)
Public List<account> accounts (set; get;)

Public void fetchdata(){
query1 = ‘select id, name, phone from account where name like \’%’+searchtext+’%/’   ‘
Accounts = database.query(query1)
}


IN
By using this keyword we can return record from the option.

Syntax : In (‘ac’, ‘b’,’c’)

Select id, name,phone from account where name in (‘ram’, ’Sam’ , ‘test’)

Ex1: we can also get the records from List.
List<String> nameslist = new List<String>();
Select id, name, phone from account where name in : nameslist

Ex2:fetch the all contract from the list of phone number exist from the account
List<Account> Accounts = [select id, name, phone from account]
List<String> phones= new List<String>();
For(account a: accounts){
	Phones.add(a.phone)

}
List<contact> contacts= [select id, lastname, firstname from contact where phone in :phones]




Ex3: if we want to use list of objects record in ‘IN’ operation only ID field will allow. To compare the other field like phone and name then first add those values into new list then use like above example.
List<Account> Accounts = [select id, name, phone from account]
List<Contact> contacts = [select id, lastname from Contact where lastname in : Accounts] //error
List<Contact> contacts = [select id, lastname from Contact where phone in : Accounts] //error
List<Contact> contacts = [select id, lastname from Contact where accountd in : Accounts] //allowed

Also, we have some keyword in WHERE 

Ex: where createddate =TODAY
where createddate = YESTERDAY
where createddate = LAST_N_DAYS:10
where createddate = NEXT_N_WEEKS:2
Last_Week
This_Week
Next_Week
Next_Month
This_Month
Last_Month
 


 

Parent to child Relationship Queries

Syntax:
List<Parent> results = [select PField1, PField2, PField3, (Select CField1, CField2 from ChildNames) 		       from Parent];

	for Standard relationship(created by SF like account-contact, Account-Oppertunties) we need to use parent object name Filed as Parent object API name and for child object we need to use object name from Child Relationship Name Available in Rationship field (usaally object name suffix with 's'. To see child relationship go to child object and click on the Lookup relation or master detail field )

Parent: Account (API name)
Child: Contact ---> Contacts (Child relationship name)

List<Account> results = [select Id, Name, Phone, industry, (select firstname, lastname from 					Contacts) from Account];

Access child records
--------------------------------
List<Account> results = [select Id, Name, Phone, industry, (select firstname, lastname from Contacts) 
                         from Account];

for(Account acc : results){
    system.debug('Account Name : '+acc.Name);
    
    for(Contact c : acc.Contacts){
        system.debug('Contact Name : '+c.lastname);
    }
}


Parent : Account
Child : Opportunity - Opportunities


List<Account> accList = [select id, name, phone , (select Name, Amount from Opportunities) from 			Account];


for(Account acc : results){
    system.debug('Account Name : '+acc.Name);
    
    for(Opportunity opp : acc.Opportunities){
        system.debug('Opportunity Name : '+opp.Name);
    }
}



	for Custom relation(relationship created by user between any type of objects like Account(standard object) to Payment(Custom object) or Employee(Custom object) to Payment(Custom object))  we need to use parent object name Filed as Parent object API name sufix with '__c' and for child object we need to use object name from Child Relationship Name Available in Rationship field suffix with '__r' (usually object name suffix with 's'. To see child relationship go to child object and click on the Lookup relation or master detail field ).

Parent - Project - Project__c(API name)
Child - Employee - Employee__C(API name)
		- Employees__r(Child relation name siffix with'__r')

Ex1:
List<Project__c> results = [select name, Budget__c , (select Name , Email__c from Employees__r) from 			   Project__C];
Ex2: List<account>  results =[select Id , name , phone  (select Name , Email__c from Employees__r) from 	account]; 



Child to Parent relationship Queries

Syntax:
List<Child> result = [select CField1, CField2, RField.PField1, RField.PField2 from Child];

	For standard relationship( relationship Created By Sf) we need to check the Parent name from relationship field name from the child object and child object name from the chose object API name.

 

List<Contact> result = [select Lastname , Account.Name, Account.Phone from Contact];

List<Opportunity> result = [Select name, amount , Account.name , account.phone from Opportunity]

	For custom relationship(relationship created by user)  we need to check the Parent name from relationship field API name instead of ‘__c’ we need to use ‘__r’ from the child object and child object name from the chose object API name.



 

Parent - Project - Project__c  project__r
Child - Employee - Employee__C
		
Ex: Realtion b/w two custom object
List<Employee__c> result = [select name, salary__C, Project__r.Name, Project__r.budget__c from Employee];

Ex: relation b/w standard object to custom object.
List<Employee__c> result = [select name, salary__C, account__r.id, Accoun__r.name, Account__r.phone from  Employee__c];




Aggregate function
Whenever we are writing query with aggregate function it is going to give you result in the form of ‘Aggregate result’. Aggregate result is one of the standard object.
	Count()
	Min()
	Max()
	Sum()
	COUNT_DISTINCT():Returns the number of distinct non-null field values matching the query criteria. For example:
SELECT COUNT_DISTINCT(Company) FROM Lead
	
Syntax: Alias name is used to store the result of the function i.e sum of fields in Aliasname1, Min of fields in Alias name2.
 AggredateResult result = [select Sum(field) aliasname1, min(field) aliasname2 from object]
Ex:Below example is for the total values 
AggregateResult result = [select sum(amount) total,min(amount) minval, max(amount) maxval,                        avg(amount) avgval from opportunities]
We will values by using below commands.by using (decimal) it convert any type to decimal and assign value to variable.
Decimal totalvalue =(decimal) result.get(‘total’);
Decimal minvalue = (decimal) result.get(‘minval’);
System.debu(“total =” +totalvalue)
System.debug(“Minimum value =” +minvalue)
Ex:Below example is for the aggrate values has to be caluculated based on group by field then use below 
 
List<AggregateResult>  result = [select stage, sum(amount) total,min(amount) minval, max(amount) maxval, avg(amount) avgval from opportunities group by stagename]
For (aggregareresult ag : result){
String stagename = (string) result.get(‘stagename’);
Decimal totalvalue =(decimal) result.get(‘total’);
Decimal minvalue = (decimal) result.get(‘minval’);
System.debu(“Stage is “ -Stagename);
System.debu(“total =” +totalvalue);
System.debug(“Minimum value =” +minvalue);
}


SQL Injection

SOQL Injection Vulnerability in Apex
Below is a simple example of Apex and Visualforce code vulnerable to SOQL injection.
1.	<apex:page controller="SOQLController" >
2.	    <apex:form>
3.	        <apex:outputText value="Enter Name" />
4.	        <apex:inputText value="{!name}" />
5.	        <apex:commandButton value="Query" action="{!query}“ />
6.	    </apex:form>
7.	</apex:page>
8.	 
9.	public class SOQLController {
10.	    public String name {
11.	        get { return name;}
12.	        set { name = value;}
13.	    } 
14.	    public PageReference query() {
15.	        String qryString = 'SELECT Id FROM Contact WHERE ' +
16.	            '(IsDeleted = false and Name like \'%' + name + '%\')';
17.	        queryResult = Database.query(qryString);
18.	        return null;
19.	    }
20.	}
This is a very simple example but illustrates the logic. The code is intended to search for contacts that have not been deleted. The user provides one input value called name. The value can be anything provided by the user and it is never validated. The SOQL query is built dynamically and then executed with the Database.query method. If the user provides a legitimate value, the statement executes as expected:
1.	// User supplied value: name = Bob 
2.	// Query string
3.	SELECT Id FROM Contact WHERE (IsDeleted = false and Name like '%Bob%')
However, what if the user provides unexpected input, such as:
1.	// User supplied value for name: test%') OR (Name LIKE '
In that case, the query string becomes:
1.	SELECT Id FROM Contact WHERE (IsDeleted = false AND Name LIKE '%test%') OR (Name LIKE '%')
Now the results show all contacts, not just the non-deleted ones. A SOQL Injection flaw can be used to modify the intended logic of any vulnerable query.
SOQL Injection Defenses
To prevent a SOQL injection attack, avoid using dynamic SOQL queries. Instead, use static queries and binding variables. The vulnerable example above can be re-written using static SOQL as follows:
1.	public class SOQLController { 
2.	    public String name { 
3.	        get { return name;} 
4.	        set { name = value;} 
5.	    } 
6.	    public PageReference query() { 
7.	        String queryName = '%' + name + '%';
8.	        queryResult = [SELECT Id FROM Contact WHERE 
9.	           (IsDeleted = false and Name like :queryName)];
10.	        return null; 
11.	    } 
12.	} 
If you must use dynamic SOQL, use the escapeSingleQuotes method to sanitize user-supplied input. This method adds the escape character (\) to all single quotation marks in a string that is passed in from a user. The method ensures that all single quotation marks are treated as enclosing strings, instead of database commands.

Record Locking:
If both of the users are trying to update same record then conflict will happen for that while updating records from SQOl we need to use ‘FOR UPDATE’ Keyword. 
	In below example user1 called Hot() method and it is some records locked by using for update at same time user 2 try to update the same record by calling  the call me() method then if  first method complete within the 10 seconds then ok(user 2 can perform his operation) else User2 will through an error record is in lock.
	Records locked by using ‘FOR UPDATE’ key word will release once that particular method completed.


Void Hot(){
Account  acc = [select id,name,phone from account where name=’genpact’ FOR UPDATE].
Stm1;
Stm2;
.
Stm100;
Acc.rating= ‘Hot’;
Update acc;
}

Void callme(){
Account  acc = [select id,name,phone from account where name=’genpact’ FOR UPDATE].
Acc.rating= ‘Hot’;
Update acc;
}

 
Relationship Query Limitations

o	Relationship queries are not the same as SQL joins. You must have a relationship between objects to create a join in SOQL.
o	No more than 55 child-to-parent relationships can be specified in a query. A custom object allows up to 40 relationships, so you can reference all the child-to-parent relationships for a custom object in one query.
o	No more than 20 parent-to-child relationships can be specified in a query.
o	In each specified relationship, no more than five levels can be specified in a child-to-parent relationship. For example, Contact.Account.Owner.FirstName (three levels).
o	In each specified relationship, only one level of parent-to-child relationship can be specified in a query. For example, if the FROM clause specifies Account, the SELECT clause can specify only the Contact or other objects at that level. It could not specify a child object of Contact.

Database Methods

Standalone DML Statements			Database Methods

1.If an error is encountered with anyone	1. You can have the option of only omitting the failed
  of the records in the list, then all 		 records, and not all - the Database methods takes the
  record list fails. This is called 			 allOrNone parameter to control this behavior.
 Atomic operation.                                                      This is called Non-atomic operation.
2. DML exception is thrown			2. If you set allOrNone parameter to false, then
partial operation is accepted. By default this is true we need to set it as ‘false’ to non-atomic.


Database methods

These Database methods are static and are called on the class name. Unlike DML statements, Database methods have an optional allOrNone parameter that allows you to specify whether the operation should partially succeed. When this parameter is set to false, if errors occur on a partial set of records, the successful records will be committed and errors will be returned for the failed records.


Database.insert(recordList, false)
Database.update(recordList, false)
Database.delete(recordList, false)
Database.upsert(recordList, false)
Database.undelete(recordList, false)
Dabase.merge(recordList,false)
Dabase.emptyrecyclebin ()


	Datebase.error(): which is a class have the DML operation error.
o	getFields():  list of Fields. because of which fields DML operation failed. Like Mandatory field missing or Amount must be greater than 50K.
o	getMessage(): Error message generated during the DML operation.

	Databases.SaveResult(): this class will save the result. This will used for the Datase.insert() and database.update() methods.
o	isSuccess(): Is the DML operation success or not (true/false)
o	getId(): returned the Id of the record on which DML is performed
o	getErrors(): This will return list of error that are generated.
	For Database.upsert() will store the result in Database.upertResult() and remaining methods are same. I.e  isSucess(), getId(), getErrors().
	For Database.delete() will store the result in Database.deleteResult() and remaining methods are same. I.e  isSucess(), getId(), getErrors().
	For Database.undelete() will store the result in Database.undeleteResult() and remaining vhmethods are same. I.e  isSucess(), getId(), getErrors().

	Database.insert(sObject[], false):  If this flag is True, it is atomic 
   If the Flag is False, it will be non-atomic.

 

 
	Save point and roll back: Save point it will have instance of the database. Roll back it will remove the changes after savepoint happen. In below example  we doing the Savepoint() operation so it will store the 2 records from employee and 2 from Payment. Now adding one record to employee and updating amount in Payment. Now if we perform Rollback() operation then it will remove newly created record and remove the updated changes. Now it will hold 2 records from employee and 2 from payment.

 

	In below example if any one of the DML failed then roll back the all DML operations. 
o	Req1: If account and contact both success then save both. If any one fail don’t save other record also then will go with SavePoint and rollback concept.
o	Req2: If account and contact both success then save both. If any one fail then save the successful operation and don’t save the failed one(through error message) then we will go with Try and catch concept.


 


Requirement: Create a Vf page for Account based on this below fields. If e click on save account, Contact and opportunity all should save. If any error nothing to be save and through error message. If all are success go the detail page after save.

 


VF page:
 
 


Wrapper class:
 

Line item class:

 
  




insert accList;
Database.insert(accList, false);

List<Account> accList = new List<Account>();

Account a1 = new Account();
a1.name = 'DatabaseInsertTest1';
a1.Rating = 'Warm';

accList.add(a1);

Account a2 = new Account();
a2.name = 'DatabaseInsertTest2';
a2.Rating = 'Warm';

accList.add(a2);


Database.insert(accList, false);


List<Account> accList = new List<Account>();
accList = [select id from Account where name like '%DatabaseInsert%'];
Database.delete(accList, false);




Database.SaveResult
List<Database.SaveREsult> 


getId()
getErrors()
isSuccess()


Example 1
----------------------
public class SOQLEx2 {
    public List<Account> accounts {set; get;}
    
    public SOQLEx2(){
        accounts = [select id, name, phone, industry, rating from Account];
    }
}


<apex:page controller="SOQLEx2" >
    <apex:form>
    	<apex:pageBlock title="SOQL">
        	<apex:pageBlockTable value="{!accounts}" var="a">
            	<apex:column value="{!a.name}"/>
                <apex:column value="{!a.industry}"/>
                <apex:column value="{!a.rating}"/>
                <apex:column value="{!a.phone}"/>
            
            </apex:pageBlockTable>
        
        </apex:pageBlock>
    
    </apex:form>
              
</apex:page>


Dynamic Query
--------------------------------------

string query = 'select id, name, phone, industry from Account';
List<Account> accList = Database.query(query);

system.debug(accList);


'Banking'  

'\''  == '



public class DynamiQuery {
    public String searchText {set; get;}
    
    public list<Account> accounts {set; get;}
    
    public void search(){
        
        String query = 'select Name, Phone, Industry, Rating, Type from Account where name like';
            query = query + '\'%'+searchText+'%\'';
        
        system.debug('query : '+query);
        
        accounts = Database.query(query);
    }
}


public class DynamiQuery {
    public String searchText {set; get;}
    
    public list<Account> accounts {set; get;}
    
    public void search(){
        
        String query = 'select Name, Phone, Industry, Rating, Type from Account where name like';
            query = query + '\'%'+searchText+'%\'';
        
        system.debug('query : '+query);
        
        accounts = Database.query(query);
    }
}

Should You Use DML Statements or Database Methods?
o	Use DML statements, if any error occurred during bulk DML processing then don’t commit any record all Will get fail.
o	Use Database class methods, if you want to allow partial success of a bulk DML operation—if a record fails, the remainder of the DML operation can still succeed.


Email service 
 All classes, methods required to send or receive email from SF to external system or external system to SF is define in the email messaging namespace. We have 2 type of email services.
1)	Outbound message:
2)	Inbound Message



Outbound messaging 
Sending email from SF to external system. We have 2 type of classes.
1)	Single Email message
2)	Mass email message

Example1:
 
 


	Message.sendemail() we can use 10 times within a method. This is the limit.so this reason will keep all emails in array and will send. In above example we sending 2 email at a time(by putting emails in array)  by calling Messaing.send method() one time.

Send emails to leads created today. We can set Toadress upto 150 in Single email message class.
 
 

Exalple3: We can also send the classic email template created in salesforce as body in apex program.
We can send email template as body only for Contact, Lead and user. In below example email template already created and we are using that. 
While using email template as Body, If it a single email message class we can set only one target object id(we send to only user). If it is a Mass email message we can set up to 250 target objects id’s(we can send up to 250 by using this class).

Email template:
 

 

Apex code:
 
TargetObjectid() is to whom we neddto send email . in above example we need to send Contact so provided contact.
setWhatId() is the record that we used in email tample. In above example account details we are used in email template so provided the Account id.

Example4: sending email template as body to multiple users(Up to 250).

 

Exapmle5: sending emails with attachments. These attachment we can take from document folder or we send VF page as attachment. In below code we sending email attachment from document , VF as attachment also email template as a Body.
In below code Blob keyword will convert into Binary.
 

 

	daily user can send 1000 email and organization can send 20L. Suppose there may be chance that within day by evening we send all1000 email and reached the limit but now evening 7 PM user need to send some priority email in that case we can be able reserve emails for day.
Example: if reserve 15 emails then 985 email will send within day and 15 will reserve for priority email. 
	In real time we write sending email code in Triggers, Batch Apex , scheduling Apex, web services.

Example6:

public class EmailManager {
    public void sendMail(String address, String subject, String body) {
        Messaging.SingleEmailMessage mail = new Messaging.SingleEmailMessage();
        String[] toAddresses = new String[] {address};
        mail.setToAddresses(toAddresses);
        mail.setSubject(subject);
        mail.setPlainTextBody(body);
        Messaging.SendEmailResult[] results = Messaging.sendEmail(
                                 new Messaging.SingleEmailMessage[] { mail });
        
        inspectResults(results);
    }
    
    private static Boolean inspectResults(Messaging.SendEmailResult[] results) {
        Boolean sendResult = true;       
        for (Messaging.SendEmailResult res : results) {
            if (res.isSuccess()) {
                System.debug('Email sent successfully');
            }
            else {
                sendResult = false;
                System.debug('The following errors occurred: ' + res.getErrors());                 
            }
        }
        
        return sendResult;
    }
}





Inbound messaging
	Sending email from external system to SF. We have 2 type of classes.
	If a Class want to handle any email sent third party then that class has implement messaging.Inboundhandler. 
	Messaging.Inboundhandler has handleInboundEmail() methos so we need to include this method in our class.
	HandleInboundEmail() method we have following option
o	Messaging.inboundmailresult: for this there is a variable called Success. If the email was handled successfully then it True else false.
o	Messaging.inboundEmail: mails received store in this. In this we will have
	fromAddress
	ccAddress
	toAddress
	subject
	plaintextBody
	htmlbody   … etc. 
o	Messaging.inboundEnvelop: In this we will have fromAddress and toAddress.

	Email service is special processes that use Apex classes to process incoming email messages. When you set up an email service, we need to generate a special email address in which salesforce will receive your emails. For same we need to create one apex class to implement Messaging.InboundEmailHandler interface. The email services will then invoke a handleInboundEmail method on the Apex class whenever an email is received on the email address.
Note: - Before creating email services we need to create Apex classes that implement the Messaging.InboundEmailHandler interface.
	We can set up email address in UI. Follow the below steps.
Setup-> develop->Email service-> new-> once after creating service to a Apex class then create a new email for this. This email will be to lengthy so this email will give to Network admin he  will configure this to company support email like ‘Support@abc.com’ .

 
Example1: In below example whenever email received email we are creating a new case.
 
 Example2: Create a contact when receive a email.
 

Example3: email receive with attachment then create a case and update received attachment in case.
 
 

Custom Setting

	It is like custom object where we can store the data but the data in this custom setting can be fetched without writing SOQl query.
	We have 2 type of custom settings 
1)List 
2) Hierarchy 
	This is also like Object only and also we need to create fields for this custom setting.
 	Setup->Data Management->Schema setting->enable Manage List Custom settings type.
Setup->build->Develop-> events->Custom setting-> create new.
	By clicking manage button we create new records into Custom setting. We have created 2 records in to Custom setting.

 

Now we are able fetch the data from custom setting without writing SOQL query like below.
 
Result:
 

	By using Hierarchy custom setting we can store different set of values for different set of user or different profile. This can be used in the concept of triggers or validation rules.
	In below example, based on the user values can store and fetch differently.
 

 

Triggers
Triggers are the automated operation which is fired when a DML operation is performed on the object. 

Triggers are 2 types.
 1. Before Trigger: Before triggers are fired before the data is saved to database
 2. After Trigger: After triggers are fired after the data is saved to database. 

	In UI screen we can able see the all triggers in Apex triggers section. 
Navigation in classic
		Setup->Build ->develop->Apex triggers
	Suppose if we want see at Object level, then go to the Object and check the triggers.


 

Triggers will be fired on below DML operations.

 Insert
 update
 delete
 undelte


 Trigger Events
1. Before insert
 2. Before update
 3. Before delete
 4. After insert
 5. After update
 6. After delete
 7. After undelete

Trigger context variable:
1)	isExecuting: Returns true if the current context for the Apex code is a trigger, not a Visualforce page, a Web service, or an executeanonymous() API call.
2)	isInsert: Returns true if this trigger was fired due to an insert operation, from the Salesforce user interface, Apex, or the API.
3)	isUpdate: Returns true if this trigger was fired due to an update operation, from the Salesforce user interface, Apex, or the API.
4)	isDelete:Returns true if this trigger was fired due to a delete operation, from the Salesforce user interface, Apex, or the API.
5)	isBefore: Returns true if this trigger was fired before any record was saved.
6)	isAfter:	Returns true if this trigger was fired after all records were saved.
7)	isUndelete:Returns true if this trigger was fired after a record is recovered from the Recycle Bin. This recovery can occur after an undelete operation from the Salesforce user interface, Apex, or the API.
8)	New: Returns a list of the new versions of the sObject records. This sObject list is only available in insert, update, and undelete triggers.
9)	newMap: A map of IDs to the new versions of the sObject records.This map is only available in after insert , before update, , after update, and after undelete triggers.
10)	Old: Returns a list of the old versions of the sObject records.This sObject list is only available in update and delete triggers.
11)	oldMap	: A map of IDs to the old versions of the sObject records.This map is only available in update and delete triggers.
12)	operationType:	Returns an enum of type System.TriggerOperation corresponding to the current operation. Possible values of the System.TriggerOperation enum are: BEFORE_INSERT, BEFORE_UPDATE, BEFORE_DELETE,AFTER_INSERT, AFTER_UPDATE, AFTER_DELETE, and AFTER_UNDELETE. If you vary your programming logic based on  different trigger types, consider using the switch statement with different permutations of unique trigger execution enum states.
13)	Size: The total number of records in a trigger invocation, both old and new.


 Syntax
 trigger triggerName on sobject( Events ){

 }

 trigger sample on Account(Before insert){
		//logic;
 }


 trigger example on Contact( Before insert, Before update, Before delete){
		//logic
 }

 trigger Sample on Lead( After insert, After update, After delete){
	//logic
 }


Trigger.New --> It is context variable which will contain list of records which you are tying to insert.

 
Account  -- Name 	Phone	Industry
	    vamshi	9090	Banking

Trigger.old -> It is used to access older version of the data. 


Account  -- Name 	Phone	Industry
	    vamshi	9090	Banking   --> Trigger.old

	    vamshi 	1111	Energy   --> Trigger.New

Trigger.NewMap - It is in the form of map. Map<key, value>. Newer version of the data. 
Trigger.OldMap - Older version of the data

Key - ID of the record
value - Total record information.



Rating - Warm
Phone - 11111111111
Fax - 999999999999
website - www.facebook.com

Trigger.isInsert
Trigger.isUpdate
Trigger.isDelete
Trigger.isUndelete
Trigger.isBefore
Trigger.isAfter
Trigger.New
Trigger.Old
Trigger.Newmap
Trigger.oldMap


Insert triggers

Example 1: In below example trigger will be fired before inserting record into the data base and values will be changed as per code. Supposse in UI screen we given rating as ‘HOT’ but in before trigger value assigned to ‘Warm’ so rating will be stored in to database as ‘warm’.

trigger Example1Acc on Account (before insert) {
	List<Account> accounts = Trigger.New;   
    for(Account acc : accounts){
        	acc.rating = 'Warm';
        	acc.phone = '111111111111';
        	acc.fax = '999999999999';
        	acc.website = 'www.facebook.com';
    }
}


Example 2

trigger Example1Op on Opportunity (before insert) {
	List<Opportunity> oppt = Trigger.New;
    
    for(Opportunity op : oppt){
        	op.stagename = 'Prospecting';
           op.closedate = system.today() + 5;
    }
}


Example 3: Whenever a new account is created, also create contact record. 

trigger Example1Acc on Account (After insert) {	  
    if(Trigger.isAfter && Trigger.isInsert){
         	List<Account> accounts = Trigger.New;
        	List<Contact> conList = new List<Contact>();
        
        for(Account a : accounts){
            Contact c = new Contact();
            c.lastname = a.name;
            c.AccountId = a.Id;
            c.Phone = a.phone;
            c.Fax = a.fax;
        }
    }
}

Example4: within one trigger we are performing both before insert and after insert events
trigger Example1Acc on Account (before insert, After insert) {
	
    if(Trigger.isBefore && Trigger.isInsert){
        List<Account> accounts = Trigger.New;
        
        for(Account acc : accounts){
            acc.rating = 'Warm';
            acc.phone = '111111111111';
            acc.fax = '999999999999';
            acc.website = 'www.facebook.com';
        }
    }
       
    if(Trigger.isAfter && Trigger.isInsert){
        	List<Account> accounts = Trigger.New;
        	List<Contact> conList = new List<Contact>();
        
        for(Account a : accounts){
            Contact c = new Contact();
            c.lastname = a.name;
            c.AccountId = a.Id;
            c.Phone = a.phone;
            c.Fax = a.fax;
        }
    }
}

Example5: If lead source is web and email id is blank then through error message.

 


Example6: through error message when more than 2 contacts created for an account. Below is the apex class we need to call from the trigger.

Apex class:
 

 

Apex trigger: we can call apex class methods in trigger by using class name.methos name. In this example class name is ‘Accoun_Trigger_handler’ and method name is “beforeInsert” and pass the parameters if any.

 


Example7: Create a opportunity when new account is created. We can write a code a code to insert opportunity within trigger as well or write in method and call method from Trigger.

Apex code:
 

Apex trigger:

 


Update Trigger
These triggers are fired when a record is modified 


 
In both Trigger.old and Trigger.new record id will same. Record id will be assigned while creating the record itself but during modification Record id will not change.

 


Requirement1: Whenever the opportunity stage name is modified to closed won, then set close date as today 
and type as new customer.


trigger Example1Op on Opportunity (before update) {   
    if(Trigger.isBefore && Trigger.isUpdate){
         	Map<Id, Opportunity> oldMap = Trigger.oldMap;
        	Map<Id, Opportunity> newMap = Trigger.newMap;
        	
        set<Id> idsList = oldmap.keySet();
        
        for(Id key : idsList){
            Opportunity old = oldMap.get(key);
            Opportunity newopt = newmap.get(key);
            
            if(old.StageName != 'closed Won' && newopt.StageName == 'Closed Won'){
                	newopt.CloseDate = system.today();
                    newopt.Type = 'New Customer';
            }
            
            
            
        }
        
        
    }
}

Requirement2: Whenever account record Active field value updated from "YES" to "NO" then delete the corresponding contact records.

trigger Example1Acc on Account (After update) {	      
    
    if(Trigger.isAfter && Trigger.isUpdate){
        List<Id> idList = new List<ID>();
        
        Map<id, Account> oldMap = Trigger.oldMap;
        Map<id, Account> newMap = Trigger.newMap;
        
        for(Id accid : oldmap.keySet()){
            if(oldmap.get(accid).Active__c  == 'Yes' && newmap.get(accid).Active__c == 'No'){
                idList.add(accid);
            }
        }
        
        List<Contact> conList = [select id from contact where accountid in:idList];
        
        if(conList.size() > 0){
            delete conList;
        }
    }
}

Requirement3: whenever opportunity is modified to closed won then share the record with opportunity owner manger.
In below code will work single record but it’s not a good practice to write SOQL queries within the For loop since we may face governing limit issue while update through data loader or bulk update in realtime. To avoid this we write new code in below.
 

Correct code: to avoid SOQl query in for loop we need to write below code in for loop.
 
 

Apex trigger code:
 

Requirement4: whenever opportunity owner is modified then create old owner as opportunity Team member.
Trigger code: within one trigger we are calling 2 methods from the same class.
 

Apex code:
 



Delete Triggers

Requirement1: Before deleting an account record check if there are any contacts associated with it.
if any contacts associated with an account record, it should not allow you to delete an account record.

Account1
	-Contact1
	-Contact2


trigger Exampl1 on Account (before delete) {
	List<Account> accList = [select id, (select id from Contacts) from account where id in : trigger.old];
    
    for(Account a : accList){
        if(a.contacts.size() > 0){
            Trigger.oldMap.get(a.id).addError('Account cannot be deleted as it has contacts associated with it.');
        }
    }
}

Requirement2 :When we delete the account record then delete the corresponding contact records.


trigger Exampl1 on Account (After delete) {
	
    List<Account> accList = Trigger.old;
    
    List<Contact> contList = [select id from Contact where AccountId in: accList];
    
    if(contList.size() > 0){
        delete contList;
    }
}

Requirement3: Rollup summary is applicable only for master details relation. So we have 2 objects have Lookup relation but we need to implement the roll up summary function. like the sum of payments made to be display on employee total amount.
 

 
 

Trigger code
 

Requirement4: Same as above whenever payment amount modified we need to recalculate and display total amount on employee.

Requirement5: Same as above whenever payment deleted we need to recalculate and display total amount on employee.


Recursive triggers:  triggering the trigger in a loop. 
Suppose in trigger we are calling the one method and in that method we are performing Insert DML operation. Due to this Insert operation Trigger will fire again and execute method again. So it will looping to create records we need to avoid such looping by using static Boolean variables.

Example with recursion:





Trigger code:
 

Apex code with recursion:
 

Due to recursion it will through below error 
 

After avoiding the recursion using Boolean variable Apex class.
 



Order of execution triggers & QA
Commonly asked interview question.
1)	Fetch data
2)	Validation rules
a.	System validation
b.	Custom validation
3)	Before triggers
4)	Check validation rules again
5)	Duplicate check 
6)	Save record 
7)	After triggers
8)	Assignment rules
9)	Auto Response rules
10)	Workflow rule
11)	Workflow rule if any field update exist and call step 3
12)	Flow and Process builder
13)	Escalation rules
14)	Entitlement Rules
15)	Rollup Summary
16)	Parent record updates
17)	Criteria based sharing rules
18)	Commit record
19)	Send emails

 
QA1: If we insert 1000 records in a Object, how many times trigger will fire.
Ans: Trigger will one time but logic will be performed on every record.

QA2: How to make trigger as bulk trigger?
Ans: By default every trigger as Bulk trigger.

QA3: if you have choice to implement logic using before/After trigger which you prefer and why?
Ans: I will prefer before trigger because any logic we write in before trigger that is read and write operation. If it is after trigger I need to write SOQL to get records then make the changes using DML operation then perform. We have governing limits on SOQL and DML operation so I will prefer to se Before Trigger.
QA4: How to avoid recursive triggers?
Ans: By using Boolean static variables.
QA5: Good practices followed?
Ans: Writing logic in Apex class, Avoid SOQl and DML in Loop and Prefer Before trigger whenever there is possibility. 
QA6: Can I write more than Trigger on the same object with same event?
Ans: Yes we can write but is not a good practice. We not sure which trigger will run first so it might create business logic impact. 
QA7:  Can I write more than Trigger on the same object with different event?
Ans: Yes. But good practice is one trigger per one object.
QA8:  Workflow and Trigger both are automated then why your going with Trigger?
Ans:  Workflow will be executed  after insert and after update but where as in Triggers we have Before insert, Before update, before delete, after insert, after update, after delete and after undelete. 
Workflow can perform only update on the record on which we are running workflow rule but in Trigger we can perform any DML  operation on any object. 
QA9: Process builder and Trigger both are automated then why your going with Trigger?
Ans:  Process builder will be executed  after insert and after update but where as in Triggers we have Before insert, Before update, before delete, after insert, after update, after delete and after undelete. 
In process builder we can’t perform delete operation where as in trigger we can do. In process builder we can perform operation on only related objects but where as in trigger we can perform any DML operation on any object. 

Triggers Overview:
R-read, w- Write, S- SOQL, d- DML
 
	By using hierarchy custom setting we can handle that Trigger logic will be executed only for the certain user or profile.
Ex: Test data is custom setting. In below example if the active flag is true in custom setting then only trigger logic will execute else no.
 
Trigger Best practices

1)	One Trigger Per Object: A single Apex Trigger is all you need for one particular object. If you develop multiple Triggers for a single object, you have no way of controlling the order of execution if those Triggers can run in the same contexts. Use a consistent naming convention including the object name (e.g., AccountTrigger)
2)	Logic-less Triggers: If you write methods in your Triggers, those can’t be exposed for test purposes. You also can’t expose logic to be re-used anywhere else in your org.  So write methods in class and call them from Apex trigger.
3)	Context-Specific Handler Methods: Create context-specific handler methods in Trigger handlers. 
4)	Bulkify your Code: Bulkifying Apex code refers to the concept of making sure the code properly handles more than one record at a time.
5)	Avoid SOQL Queries or DML statements inside FOR Loops: An individual Apex request gets a maximum of 100 SOQL queries before exceeding that governor limit. So if this trigger is invoked by a batch of more than 100 Account records, the governor limit will throw a runtime exception. 
6)	Using Collections, Streamlining Queries, and Efficient For Loops: It is important to use Apex Collections to efficiently query data and store the data in memory. A combination of using collections and streamlining SOQL queries can substantially help writing efficient Apex code and avoid governor limits 
7)	Querying Large Data Sets:The total number of records that can be returned by SOQL queries in a request is 50,000. If returning a large set of queries causes you to exceed your heap limit, then a SOQL query for loop must be used instead. It can process multiple batches of records through the use of internal calls to query and queryMore. 
8)	Use @future Appropriately: It is critical to write your Apex code to efficiently handle bulk or many records at a time. This is also true for asynchronous Apex methods (those annotated with the @future keyword). The differences between synchronous and asynchronous Apex can be found. 
9)	Avoid Hardcoding IDs:When deploying Apex code between sandbox and production environments, or installing Force.com AppExchange packages, it is essential to avoid hardcoding IDs in the Apex code. By doing so, if the record IDs change between environments, the logic can dynamically identify the proper data to operate against and not fail.

 
Future methods

 1. Use @Future annotation to make a method as future call.
 2. Future method must be static method.
 3. it should not return anything. void is the return type.
 4. It will not accept sobject as parameter
 5. It will accept primitive types as parameter
 6. we can't call one future method from other future method.

	Any asynchronous operation running in the Salesforce will be register with standard object called ‘AsyncApexJob’. It will have 
o	JobId
o	Type: Queue, Future, batch, Schedule
o	Class
o	Method
o	Status
	By using Future method, we can run the long running statements separately if there is no dependency with rest of statements in the code. Example for long running transactions.
o	Web service calls: making a request to Third party and third party will send response might take 45- 50 seconds.(In real time loading page 45- 50 seconds will be considered as Long time as performance issue of web site). We can’t call web services directly in triggers and schedule Apex. with help of Future method can call web services in Triggers and schedule Apex. 
o	Bulk DML operation: trying insert 30K records it taking more time or updating more records or deleting more records.
	Whenever we run future method it will also register record in ‘AsyncApexJob’ object.
	To track the status of future method. 
o	Write SOQL  query on AsyncApexJob object
o	Declarative way to check the status.
	Setup-> monitor-Apex jobs.
 

Drawbacks of future method: 
	It will return not the Job Id (since Void is return type) so it will be difficult to track status of the Job.
	It will not accept Sobject as a parameter. These jobs will added to Queue we not sure when this can be executed so that’s reason sobject will not accept as a parameter. the reason why sObjects can’t be passed as arguments to future methods is because the sObject might change between the time you call the method and the time it executes. In this case, the future method will get the old sObject values and might overwrite them. To work with sObjects that already exist in the database, pass the sObject ID instead (or collection of IDs) and use the ID to perform a query for the most up-to-date record.
	we can't call one future method from other future method.


Example1:
Apex code without future method:  In below example if we call the callMethod() then all statements will executed in sequentially. execute stmt1, stmt2(once method1 completed then execute stmt3), Stmt3,Stmt4 (once method2 completed then execute stmt5), Stmt5 and also generate within a single log. 

public class FutureEx1 {	
   public static void method1(){
        system.debug('Method1 logic is executed..');
    }
   
    public static void method2(){
        system.debug('Method2 logic is execued...');
    }
       
    public void callMethod(){
        system.debug('Method execution started...');//Stm1
        method1();//stemt2
        system.debug('Method1 execution completed...');//Stmt3
        method2();//stmt4
        system.debug('Method2 execution completed...');//sstmt4
    }
}


Apex code with future method.: In below example if we call the callMethod() and method1 and method2 are defined as Future then all statements will executed in method statements execute asynchronously.  Execute Callmethod , Method1 and method2 statements independently and also it will generate 3 logs for each method(One is for normal method and 2 for future methods). 

public class FutureEx1 {
	
    @future
    public static void method1(){
        system.debug('Method1 logic is executed..');
    }
    
    @future
    public static void method2(){
        system.debug('Method2 logic is execued...');
    }
       
    public void callMethod(){
        system.debug('Method execution started...');	//stmt1
        method1();		//stmt2
        system.debug('Method1 execution completed...');	//stmt3
        method2();		//stmt4
        system.debug('Method2 execution completed...');	//stmt5
    }
}


Example 2
public class FutureEx2 {
	@Future
    public static void deleteRecords(){
        List<Account> accounts = [select id from Account where createdDate = TODAY];
        if(accounts.size() > 0){
            delete accounts;
        }
    }
}


Example 3
public class FutureEx3 {
	@future
    public static void updateRec(){
        List<Opportunity> opty = [select id, name, stageName from Opportunity];
        
        for(Opportunity op : opty){
            op.stageName = 'Closed Won';
        }
        
        update opty;
    }
}

Mixed DML exception

	Setup objects: Objects on which if I make any DML then they may impact the user permissions on the database.  
	Non-Setup objects: Objects on which if I make any DML then they not-impact the user permissions on the database.  
	In Single method we not going doing to perform DML on setup and non-setup objects it will impact permission on the database. So in single method will perform DML on either setup of non-setup object. If we try to perform the DML operation setup and non-setup object together in a single method then it will through Mixed DML exception.
	If we are getting Mixed DML exception then will resolve by using Future method.

Limitation: Within a transaction(method) we can call 50 future methods.

Work around use case: interview Question
1.	When we have a requirement to pass Sobject as parameter how can we do.
a.	Pass the record id Instead of record.
b.	Serialize the Sobject as string using JSON/XML and pass the string as paramer in future method.

Below are the List of setup object , expect below all other objects are Non-setup. 
Setup objects:
o	FieldPermissions
o	Group
o	GroupMember
o	API
o	ObjectPermissions
o	PermissionSet
o	PermissionSetAssignment
o	QueueSObject
o	ObjectTerritory2AssignmentRule
o	ObjectTerritory2AssignmentRuleItem
o	RuleTerritory2Association
o	SetupEntityAccess
o	Territory2
o	Territory2Model
o	UserTerritory2Association
o	User

Example4: trying to insert user(Setup object) and account (Non-setup object) then DML exception will through.
Apex code: 
 

When we try to execute it will through error as below. 
 

We can resolve this by using Future Method. If we use future method then both method will run independently then no issue.Apex code with future method.

 


Queueable Apex
1)	If we want to run apex class asynchronously, then we use the concept of the queueable Apex.
2)	These are used to run the long running operations like external web call, Bulk database operations Asynchronously.
3)	If we want to run Apex class as Queueable then that Apex class has to implements Queueable interface.
4)	Any apex class which implement Queueable interface has to define the Execute() method.
5)	Business logic which we want to run asynchronous is to write within execute method.
6)	If a class implements any interface then that class has to define every method in that interface. Queueable interface has execute() method with parameter as ‘QueueableContext’.   
7)	When we want to invoke Queueable class then use System.enqueueJob(object) method.
8)	To track the status of the job 
a.	Write SOQL query on AsyncApexJob object using JobId returned by the System.enqueueJob().
b.	Declarative way to check the status.
i.	Setup-> monitor-> Jobs -> Apex jobs.

Syntax: 
Public class classname implements Queueable {
	Public void execute (QueueableContext qc){
//business Logic
}
}

To call the class:
Classname cl = new classname();
Id jobId = System.enqueueJob(cl);

Example1: write a queueable class to delete accounts created in last week.
 

Example2: get the all opportunity created in last week and update stage as ‘Closed won’
 
We can call this queueable class like below
 
Example3:  if we want to run one job after other asynchronously then call queueable class calling from the anther Queueable class. In below example first Example2(Job1) will completed and it will call example(job2). 
If we want run Asynchronous operation one after other then will go queueable apex rest all place use Future method.
Job1-> job2->job3 like that.

 

Advantages using Queueable class instead of Future method:
1)	Future and Queueable class both are Asynchronous only but Queueable class will give you the JobId.
2)	It can take sobject also as a parameter.
3)	Queue can be called within a queue. 
Drawbacks:
1)	For every queue we need to define the separate Apex class.
Limits:
1)	Maximum 50 queueable jobs can be called from transaction.
Schedule Apex
1)	Schedule Apex is one asynchronous operation where the job can be specified time.
2)	Any apex class which implement Schedulable interface then the class is called schedule Apex class and we can schedule job based on requirement.
3)	If a class implements any interface, then that class has to define every method in that interface. Schedulable interface has execute () method with parameter as ‘Schedulable Context’.   
Schedulable Context will contain the Job id once it’s registered with AyncApexJob.
4)	When we want to invoke schedulable class then use method system.schedule().
5)	To track the status of the job 
a.	Write SOQL query on AsyncApexJob object using JobId returned by the System.schedule().

b.	Declarative way to check the status.
i.	Setup-> monitor-> Jobs -> schedule jobs.


Syntax: 
Public class example implements schedulable{
	Public void execute(Schedulable Context sc){
//Logic 
}
}

To schedule the job we need to pass 3 parameters.
Id JobId = system.schedule(param1,param2,param3)
Param1:name of the job
Param2: Cron expression: at what time job has to run.
Param3:object which has to run .

To call the schedule apex class
Example ex = new example();
String cron= ‘0 0 10 15 * ?’  
Id jobId = system.schedule(‘test’, cron, ex);
Cron expression: it will define at WHAT time the job has to run. We have ‘CronTrigger ‘standard object to  store the cron expression.
 


Syntax:  SECS	MINS	HRS	DAY_MONTH	MONTH	DAY_WEEK	YEAR
1)	Run job on Jan 10th at 11.30  
0	30	11	11		1		?			
2) Run job 15th of every month at 10:30 PM
	0	30	22	15		*		?	
Weekdays: sun-1, mon-2,…..sat-7 
? – if we not sure what day or week or month then configure as ‘?’. In example 1 , jan 10th we not sure what is day_week so we are configure as ‘?’.
*- if we give it as * then it will repeat 
 
 

Flow of scheduler:
o	Once we run the scheduler class it will register with Crontrigger object. At the execution time it will fire the job and it will register with AsyncApexJob and will get the ID. Then it will be added queue. Based availability of resources queue will execute this job.
 
	Administrator can also schedule the Apex class through UI in below navigation by choosing the class to schedule.
	Set-> build-> apex classes-> schedule Apex.
Limits: At a time 100 jobs can be schedules in the queue . 



Example1: Create a schedule apex, take opportunity created today and change close as Today() +  15, stage name as ‘prospecting’. 
 

Example2: 
 


Governing Limits

1)	SOQL will maximum of 50,000 records in a single call within the method. If there is one SOQL query it will give max 50,000 or if multiple SOQL queries then together it will give 50,000 max within the method.
2)	We can run 100 max SOQL queries in method. If one method is calling other method then together it will allow 100.
3)	We can run 20 max SOSL queries in method. If one method is calling other method then together it will allow 20.
4)	We can perform 150 max DML operations in method. If one method is calling other method then together it will allow 150.
5)	We can perform DML on max 10,000 rows within method like insert, update and delete.
6)	Within a transaction(method) we can call 50 future methods.
7)	Maximum 50 queueable jobs can be called from transaction.
8)	At a time 100 jobs can be schedules in the queue.
9)	Message.sendemail()(to send the emails ) we can use 10 times within a method.
10)	Flexqueue can have max 100 jobs.

Batch Apex

1)	If we are working large amount data, then there is possibility of getting governing limit. So in that case we can resolve our issue with Batch Apex.
2)	Suppose if we have 1000 account we want delete related contact, opportunities then we got 20K records to delete it will through governing limits. If we use batch apex it will break them into batched and run.
3)	If we want to run any Apex class ha batch apex then that class has implements “Database.batchable(sobject)” interface. 
4)	Database.batchable(subject) interface is Global so the class which implements also be Global.

5)	To track the status of the job 
a.	Write SOQL query on AsyncApexJob object using JobId returned by the database.executebatch().
b.	Declarative way to check the status.
i.	Setup-> monitor-> Jobs -> Apex jobs.

 Syntax: 
Global class example implements database.batchable(sobject){
}

How to execute the Batch Apex.
Example ex =  new example();
Id Jobid= database.executebatch(ex, size);

Size: if we mention the size while calling,  it take the size records as one batch and run separately. 
default size is 200. Minimum size is 1, maximum size 2000.

Batch Apex has 3 methods. 

1. start - it will fetch all the records on which you want to perform the operation. It will break them into the batches and give it to execute method. Up to 50 million records.  It will execute only once. 

Databse.querylocator; If we want write SOQL query and get the then we use Database.queryLocator. 

2. execute - It will run on each batch that has come from start method. Execution is based upon the number of batches. Star method will divide into batches and pass the list records in Execute method and in execute method we will perform the logic. 

3. finish - It will execute when all the batches got processed. It will execute only once 

 

In case fail at method level:
	If start method fail entire transaction will get fail.
	If any one of the execute fail then remaining executes will not effected they will execute normally since all are running separately. 
	If finish failed on that finish method will fail.

Example 1
------------------

global class Batch_Ex1 implements Database.Batchable<sobject>
{
    global Database.QueryLocator Start(Database.BatchableContext bc){
        String query = 'select id, Name, Type, CloseDate from Opportunity';    
        return Database.getQueryLocator(query);
        
    }
    
    global void execute(Database.BatchableContext bc, List<Opportunity> optyList){
        for(Opportunity op : optyList ){
           op.Type = 'New Customer';
        }
        update optyList;
    }
    
    global void finish(Database.BatchableContext bc){
        
    }
}


Example2:

global class Batch_Ex2 implements Database.Batchable<SObject> {
    global Database.QueryLocator Start(Database.BatchableContext bc){
        String query = 'select id, Name, Rating from Account';
        return Database.getQueryLocator(query);
    }
    
    global void execute(Database.BatchableContext bc, List<Account> accList){
        for(Account a: accList){
            a.rating = 'Cold';
        }
        
        update accList;
    }
    
    global void finish(Database.BatchableContext bc){
        Id jobId = bc.getJobId();
        AsyncApexJob ac = [SELECT NumberofErrors, JobType, Status, TotalJobItems from AsyncApexJob where id=: jobId];
        
        Messaging.SingleEmailMessage msg = new Messaging.SingleEmailMessage();
        String[] toadd = new String[]{'vamshisalesforcetrainer@gmail.com'};
        msg.setToAddresses(toadd);
        
        String body = 'Job Type : '+ac.JobType;
        body = body + '<br/> <br/> Total job items : '+ac.TotalJobItems;
        body = body + '<br/> <br/> No of Errors : '+ac.NumberOfErrors;
        
        msg.setHtmlBody(body);
        
        msg.setSubject('Batch Job Information : '+jobId);
        
        Messaging.Email[] emails = new Messaging.Email[]{msg};
        Messaging.sendEmail(emails);
        
    }
}

Example3: get all the accounts and update ownership as Public and rating as ‘Hot’ and send an email.

 
 

Call the above class: in below it will take 5 records as one batch and run parallelly. 
 


Example4: By default data will not exchange from one execute to other execute. In below example we are writing the logic incrementing the size and count and insering record in to account. If data has exchanged b/w the Executes it will create a record with total count account but it will create account as count’0’ and size ‘0’ since it will not exchange the data b/w execute methods. 
 
 

 

Result:
 

	But we have requirement where the data has to exchange b/w execute methods then we need to implement one interface called ‘database.Stateful’.
	By using database.stateful only non-static data will be exchanged. In below example size is static so not exchanged and Count is non-static so exchanged. See the result.

` 

 

Result:  
 

	Real time case where we use data exchange b/w execute methods. Suppose we are working with some records and our requirement is we need to group them by owner name. Normally we not sure how the records are divided and executed. In this case we need to exchange the data b/w executes and group the records by owner.

 

Apex code:

 
 

 
Interview questions:

QA1: can we can call batch apex within a schedule apex?.
Ans: yes. A class can implement more than one interface. In below example we have implemented Database.batchable(), schedulable interface.  Within the schedule interface method we are calling batch apex so once schedule apex job execute then it will execute batch apex (Start-> execute->finish) .

 

Calling above code.

 

QA2: Can finish method of Batch apex can call schedule apex or not like below?
Ans: yes. from Finish method.
 


	From Future we can’t call future, Queue, batch, Schedule.
	From queue we can call future, Queue, batch, Schedule.
	From schedule we can call future, Queue, batch, Schedule.
	From batch we can’t call future and Queue, but we can call batch and Schedule.

 

	Any asynchronous job it will register with AsynApexJob. Suppose we have 20 jobs are registered the 5 jobs will run queue and rest will store Flex Queue. Once Any job completed from queue then one job from Flex queue will be removed and added to the Queue. In flex queue can store maximum of 100 Jobs.

 



Test Classes

Any apex code  that we deploy from one environment to other environments(development to SIT, SIT to UAT or UAT to PROD) need to be tested and get the Minimum coverage of 75% then only we can deploy. If you want to deploy any APEX code to the production, it must have minimum 75% code coverage. If we don't have 75% code coverage, then we can't deploy the code.

1. If you define with annotation "@isTest" then that class becomes a test class.
2. A test class contains only test methods.
3. A test methods should be static and it must return void only.
4. Test method must be defined either with "TestMethod" or "@isTest". Using the @isTest annotation instead of the testMethod keyword is more flexible as you can specify parameters in the annotation.
5. A test method will not have any parameters.
6.test class will assume that there is no data in the database but we fetch Global data like users, Pforiles etc.

	Before each major service upgrade, Salesforce runs all Apex tests on your behalf through a process called Apex Hammer. The Hammer process runs in the current version and next release and compares the test results. This process ensures that the behavior in your custom code hasn’t been altered as a result of service upgrades. The Hammer process picks orgs selectively and doesn’t run in all orgs. Issues found are triaged based on certain criteria. Salesforce strives to fix all issues found before each new release.
	The visibility of a test method doesn’t matter, so declaring a test method as public or private doesn’t make a difference as the testing framework is always able to access test methods. For this reason, the access modifiers are omitted in the syntax.


Syntax:
Public class Sample{
	public void display(){

	}
}


@isTest
public class TestSample{

	@isTest
	public static void methodName(){

	}

	testmethod static void methodName(){

	}

}


	System.assertEquals(valueexpecting , actualvalue); If value expecting and actual value both are matches then it will return true els false.


Test classes for Methods 
In Apex class we need to test the every method.
Example 1
public class Apex_Example {
   public String name;
    public string industry;
    public string rating;
    
    public void callMe(){
        name = 'krish';
        industry = 'Banking';
        rating = 'Hot';
    }
}



@isTest
 public class Test_Ex1 {
	@isTest
    public static void testMethodCallMe(){
        Apex_Example ae = new Apex_Example();
        ae.callMe();
        
        system.assertEquals('krish', ae.name);
        system.assertEquals('Banking', ae.industry);
        system.assertEquals('Hot', ae.rating);
    }
}


Example 2
public class Apex_Example2 {
   public string stdName;
    public Integer stdAge;
    public string mobile;
    
    public void setValues(){
        stdName = 'John';
        stdAge = 30;
        mobile = '90909090909';
    }
}

@isTest
public class Test_Ex2 {
	@isTest
    public static void testSetValues(){
        Apex_Example2 ae = new Apex_Example2();   
        ae.setValues();
        
        system.assertEquals('John', ae.stdName);
        system.assertEquals(30, ae.stdAge);
        system.assertEquals('90909090909', ae.mobile);
    }
}



public class Apex_Example2 {
	public string stdName;
    public Integer stdAge;
    public string mobile;
    
    public void setValues(){
        stdName = 'John';
        stdAge = 30;
        mobile = '90909090909';
    }
    
      public void setValues1(){
        stdName = 'Edward';
        stdAge = 35;
        mobile = '89898989';
    }
}


@isTest
public class Test_Ex2 {
	@isTest
    public static void testSetValues(){
        Apex_Example2 ae = new Apex_Example2();
        
        ae.setValues();
        
        system.assertEquals('John', ae.stdName);
        system.assertEquals(30, ae.stdAge);
        system.assertEquals('90909090909', ae.mobile);
        
        ae.setValues1();        
        system.assertEquals('Edward', ae.stdName);
        system.assertEquals(35, ae.stdAge);
        system.assertEquals('89898989', ae.mobile);
    }
}


Example 3
public class Apex_Example3 {
	public String empType;
    public Integer empSalary;
    public Integer bonus;
    
    public void SetBonus(){
        if(empSalary > 50000){
            bonus = 10000;
            empType= 'Perminant';
        }else{
            bonus = 20000;
            empType= 'Contract';
        }
    }
    
}

@isTest
public class Test_Ex3 {
	@isTEst
    public static void testMe(){
        Apex_Example3 ae = new Apex_Example3();
        
        ae.empSalary = 60000;
        ae.SetBonus();
        
        system.assertEquals(10000, ae.bonus);
        system.assertEquals('Perminant', ae.empType);
        
        ae.empSalary = 30000;
        ae.SetBonus();
        
        system.assertEquals(20000, ae.bonus);
        system.assertEquals('Contract', ae.empType);
    }
}

Example4: 
 

 

DML test class 
While performing test class on DML operations, test class will assume there is no data in Database. While inserting data in test class it will assume that only this data exists in database. In test class we need to pass data for Insert operation. We want test update and delete, then first we need to insert data test class then test since test class will assume there is no data in Database.
Example5
 

 

Example 6
public class Apex_DML {
    public string name {set; get;}
    public string industry {set; get;}
    public string rating {set; get; }
    
    public void create(){
        Account acc = new Account();
        acc.Name = name;
        acc.Industry = Industry;
        acc.Rating = rating;
        insert acc;
    }
    
    public void updateRec(){
        List<Account> accounts = [select id, name, rating from account];
        
        for(Account a : accounts){
            a.rating = 'Warm';
        }
        
        update accounts;
    }
    
    public void deleteRec(){
        List<Account> acc = [select id from account];
        delete acc;
    }
}



@isTest
public class TestDML {

    @isTest
    public static void testCreate(){
        Apex_DML ad = new Apex_DML();
        ad.name = 'Jessi';
        ad.industry = 'Banking';
        ad.rating = 'Hot';
        ad.create();
        
        Integer count = [select count() from Account];
        system.assertEquals(1, count);
        
    }
    
    @isTest
    public static void testUpdate(){
        Account acc = new Account();
        acc.Name = 'Sai';
        acc.Industry = 'Energy';
        acc.Rating = 'Cold';
        insert acc;
        
        Apex_DML a = new Apex_DML();
        a.updateRec();
        
        List<Account> accList = [select id, rating from Account];
        
        for(Account ac : accList){
            system.assertEquals('Warm', ac.rating);
        }
        
    }
    
     @isTest
    public static void testDelete(){
        Account acc = new Account();
        acc.Name = 'Sai';
        acc.Industry = 'Energy';
        acc.Rating = 'Cold';
        insert acc;
        
        Apex_DML a = new Apex_DML();
        a.deleteRec();
        
     	Integer accCount = [select count() from account];
        system.assertEquals(0, accCount);
        
    }
        
}

Example7:   If we want to test Update or delete DML operation then first we need to create test data in database. If we see example6 we are writing insert logic in both update and delete test class but same logic is repeated to avoid this repeated logic we use ‘@testsetup’ annotation. 
In below test class we have created ‘@testSetup’ method once and used in multiple places.
 
 

Apex class
 

Example8: if we want test multiple records are update not then use list and For loop.
 
Test class
 
 


Triggers test class

Test Triggers
ple 8: 
trigger ApexExTrigger on Account (before insert) {
	List<Account> accounts = Trigger.New;
    for(Account a : accounts){
        a.rating = 'Warm';
        a.ownership = 'Public';
    }
}


@isTest
public class TestTrigger {

    @isTest
    public static void testBeforeInsert(){
        TestDataFactory.Create();
        List<Account> accList = [select id, Rating, Ownership from Account];
        
        for(Account a : accList){
            system.assertEquals('Warm', a.Rating);
            system.assertEquals('Public', a.Ownership);
        }
        
    }
}


@isTest
public class TestDataFactory {
	@isTest
    public static void Create(){
        List<Account> accList = new List<Account>();
        
        for(Integer i = 0; i < 10; i++){
            Account acc = new Account(name = 'Acc'+i, rating='Hot', Industry='Banking');
            acclist.add(acc);
        }
        
        insert accList;
    }
}

Example9:
Apex class
 
Apex trigger:
 

Test class:
 

Batch Apex test class
Whenever we are trying test asynchronous operation there is possibility that Governing limit error will come so to resolve this will use Test.startTest() and Test.stopTest() in the test class.

Example10:
global class Batch_Ex2 implements Database.Batchable<SObject> {
    global Database.QueryLocator Start(Database.BatchableContext bc){
        String query = 'select id, Name, Rating from Account';
        return Database.getQueryLocator(query);
    }
    
    global void execute(Database.BatchableContext bc, List<Account> accList){
        for(Account a: accList){
            a.rating = 'Cold';
        }
        
        update accList;
    }
    
    global void finish(Database.BatchableContext bc){
        Id jobId = bc.getJobId();
        AsyncApexJob ac = [SELECT NumberofErrors, JobType, Status, TotalJobItems from AsyncApexJob where id=: jobId];
        
        Messaging.SingleEmailMessage msg = new Messaging.SingleEmailMessage();
        String[] toadd = new String[]{'vamshisalesforcetrainer@gmail.com'};
        msg.setToAddresses(toadd);
        
        String body = 'Job Type : '+ac.JobType;
        body = body + '<br/> <br/> Total job items : '+ac.TotalJobItems;
        body = body + '<br/> <br/> No of Errors : '+ac.NumberOfErrors;
        
        msg.setHtmlBody(body);
        
        msg.setSubject('Batch Job Information : '+jobId);
        
        Messaging.Email[] emails = new Messaging.Email[]{msg};
        Messaging.sendEmail(emails);
        
    }
}


@isTest
public class TestBatch {
	@isTest
    public static void testBatchApex(){
        TestDataFactory.Create();
        Batch_Ex2 b = new Batch_Ex2();
        
        Test.startTest();
        	Id jobId = Database.executeBatch(b);        
        Test.stopTest();
        
        List<Account> accounts = [select id, rating from Account];
        
        for(Account acc : accounts){
            system.assertEquals('Cold', acc.Rating);
        }
    }
}


Data factory test class: every time we need to test the DML operation either we need to create a data in the test method or we need use ‘@setup’. So to avoid this repeat code we can create on data factory class and we can call this class method whenever we required. 

@isTest
public class TestDataFactory {
	@isTest
    public static void Create(){
        List<Account> accList = new List<Account>();
        
        for(Integer i = 0; i < 10; i++){
            Account acc = new Account(name = 'Acc'+i, rating='Hot', Industry='Banking');
            acclist.add(acc);
        }
        
        insert accList;
    }
}

Example11:
 
Test class:
 

Example12:
 
Test class: For above code we need to create only Account data. User data is global it will fetch in test class from data.


	
Schedulable test class

Example13:
 
Test class: in below test class we are checking the schedule job is schedule at given time only or not?.
CronTrigger will have the scheduled job details, by using JobId we are fetching and validating. 
 




Sharing rules on Apex classes
	In VF page if use the ‘standardcontroller” then the OWD will considered.
	In VF page we use controller then the apex class by default without sharing rules. If the Class define Public Class classneme{} then by default it will not consider  sharing rules,OWD, Object permissions so within the class we can Perform all the DML operation.
In below code Account has OWD as ‘Private’ and User Sam has only read access but when he tri to fetch the records he can able fetch all records and he can able insert, update and delete the records through Apex class.
 
	If we want to run the class according the Object level permission, OWD and Sharing rules then we need to mention the key word ‘With sharing’ in the class declaration. See below example, user sam can be able fetch only ‘Wipro’ record and if he try to insert operation will fail because since he don’t have access to create.
 

	In below code we have one class for without sharing and one with sharing. Suppose the method define in the class which has with sharing then it will consider OWD. In below example demo class is without sharing and it is calling Invoke method. The invoke method define class has with sharing rules so it consider OWD so it doesn’t matter where it is calling it matters where it is defined.
 

	In class if we not define any sharing rules then where ever we are calling that class property will applicable.
In below example class we not define anything so it take from calling class. So it will behave as with sharing.
 

In below example class we define without sharing and calling class define as with sharing So Invoke method will run as without sharing.


 
	Normally class will run as login user, If we want run some logic as a specified user then user system.runAs(user){} method. The logic written within this methods will run as that specific user rest will run as login user. 

 

	Normally test class will consider there is no data based. If we want to see actual data present in the data base then use @isTest(seeAllData=true).
 


Apex based sharing rules
 
Whenever Owner based , criteria based and manual sharing rule not meeting our requirement then we will use Apex based sharing rule. Every object sharing rules are internally stored in the Sharing object. Like below.

Object	-> 	sharing object name
Account -> 	AccountShare
Contact -> 	ContactShare
Customer__c -> Customer__Share
Payment__c -> Payment__Share


Example8: when new opportunity created with stage as ‘clsed won’ then share the record with manger.

Apex class:
 

Apex trigger
 





Java script

	Why we want go  for Java script?
If we want make any client side operation or any browser events occurs then we will  go for Java script. 
	Why we want make, Client side operation?
If we are using client-server communication, if client request the server and server will give response to the client then client will process normally it will take some time. So what all are the events can handle at client side we will handle by using Java script and this will increase performance. 
Some of browser events are onclick, double click, on focus, onchange these actions are defined by using java script.
	Java script will define within the <script> tags.
	Variables:  Any type variables in java script we will define by using ‘var’.
	Var name = ‘naresh’;
	Var age = 25;
	Var salary= 300000;
	Var flag = true
	Var acc = new Sobject(Account);
	If we want to test it we will use console.log() same as system.debug();
	Functions: functions in java script will define as below and function can be called when event occurs.
function function_name(parameter);
function show(){
};
		
function invoke (name, age){
}

function invoke(name, age){
	return age
}

Example1:
 

Apex code:
 


Example 2
<apex:page >
    <script>
    	function show(){
            alert('Show method is invoked');
            }
    
    	function display(){            
            alert('Submit method is invoked..');
            }
    </script>
    
    <apex:form>
    	<apex:commandButton value="Show" onclick="show()" />
    	<apex:commandButton value="Submit" onclick="display()"/>
    </apex:form>
</apex:page>



	In java script we can refer the data from VF pages by using id’s of VF page.
Syntax: 
Var name = document.getElementById(“path”).value;

Where path is: (pageid:formid:pagablock id:)

Example3: In below example, we are fetching the name value from VF page and displaying other fields of Vf page. If the VF page is input the we will use .value to assign value or if it is the Output field will use .innerHTML to assign.


 

We can write Script code anywhere, suppose we written the script code within the Form now need to provide the entire path to refer the VF variable by using ‘!$Compenent’ we can provide the rest of path.
In below code if data not entered then through error message.
 

Example (Important and regularly use case)4: when have multiple line how to identify which line editing and which variable editing in Java script. See in below for solution. 

 


 

 

Output will like below:
 

in above screen if enter quantity and product automatically calculate and display the total. But here how to identify particular row and column is modified for this we use ‘Onchange = method (this.id)’.

so whenever we click on the input in  field it will have one unique id. For the 1st row Quantity column id is ‘page:fm:pb:pbt:0:quantity’, for second row id will be ‘is page:fm:pb:pbt:1:quantity’. So if we split this id we can be able identify the which row we are editing. If we know the Row then we can calculate the amount in that row.

 

If we split the ID:
 


Final VF code to achive the requirement. 
 

Example5: for the above requirement we need to add the ‘add/del’ button for each row. If click add at middle then new row to be add next to current or if we click on the add at last row then new row should add at last. or if we click delete that row should be delete.

Wrapper class:
 
Apex code: in this it will initial create 3 rows, if we click add at 1st then if condition will excute and add new row below to the 1st row.
 

Vf code:
 
 
 

Example on action support6: with help of action support we can call the apex class for the event occurs. 
creating 2 pick lists city and places , if we select city and display related places of city. If we change city then display places to the changed city through Apex code.


 

 


VF code:
 

Example on action region7: suppose if we use the action support for the events like onchange and we are calling Apex method as above example so enitre Data in the VF page will go to the Apex code. 
No we no need to pass the entire info to Apex code then whatever the data wish to pass within the <apex:actionregion>. In below example when on change event occur only data within the action region(Phone no ) will be passed to Apex class.

So where we use this: suppose we have registration form like below, we have enter name, phone, 
And chooses the city from picklist then it will call apex method and display related places in pick list. In this case no need to pass all the information so we will use the Action region for the city field. While submitting the form we need to pass all information.
 
 
Apex code:
 

VF code:
 


Example on Action pooler8: If we want perform the specific action to be called automatically with interval time until specific time then we will go with Action pooler.

Apex code:
 

Vf code: in below Vf code automatically Call me method will call with interval of 5 seconds with help of action poller. The actin status will display the message while loading the page.

 

Example remote action 9:
	Remote action: If want any apex class method to be called directly from the Java script then we will use remote action. 
	Will use @remoteActio’ Annotation to define method in apex class and remote action method should be static, should have  return type and method with Parameter.
	In entire VF we always call Apex method without parameter only expect Extensions and remote action.
	We will call remote method by using Classname.methodname(parameter).
Apex code:
 

VF code: in below code we calling the remote method by using classname.metodname since method is static so ne need to create object we can directly call with help of class name. We passing the parameter and the method will return and we access the return value. Even will tell us whether it is success or not.

 

Example 10:


Example
 
<apex:page id="page">
    <script>
    	function show(){
            var stdName = document.getElementById('page:fm:name').value;
            alert('Changed name value is :'+stdName);
           }
    
        function display(){
             var stdEmail = document.getElementById('page:fm:pb:email').value;
            alert('Enter Email Address is :'+stdEmail);
            }
    </script>
    
    <apex:form id="fm">
    	Enter Name:
        <apex:inputText id="name" onchange="show()"/>
        
        <apex:pageBlock title="Sample Code" id="pb">
        	Enter Email address:
            <apex:inputText id="email"/>
            <apex:commandButton value="Check Email" onclick="display()"/>
        </apex:pageBlock>
    </apex:form>
</apex:page>


<apex:page id="page">
    <script>
    function show(){
        var stdName = document.getElementById('page:fm:name').value;
        alert('Changed name value is :'+stdName);
    }
    
    function display(){
        var stdEmail = document.getElementById('page:fm:pb:email').value;
        if(stdEmail != ''){
            alert('Enter Email Address is :'+stdEmail);
        }else{
            alert('Please Enter Email Address');
            }
    }
    </script>
    
    <apex:form id="fm">
        Enter Name:
        <apex:inputText id="name" onchange="show()"/>
        
        <apex:pageBlock title="Sample Code" id="pb">
            Enter Email address:
            <apex:inputText id="email"/>
            <apex:commandButton value="Check Email" onclick="display()"/>
        </apex:pageBlock>
    </apex:form>
</apex:page>



ActionSupport - Call controller method from VF
------------------------------------------------

public class ActionSupportClass {
    public string name {set; get;}
    public string city {set; get;}
    public string result {set; get;}
    
    public void callMe(){
        result = 'Name is : '+name+' *******  '+'City is : '+city;
    }
}


<apex:page controller="ActionSupportClass">
    <apex:form id="fm">
        Enter Name: <apex:inputText value="{!name}">
        <apex:actionSupport event="onchange" action="{!callMe}" reRender="fm"/>
        </apex:inputText>
        <br/> <br/>
        
        Enter City: <apex:inputText value="{!city}">
        <apex:actionSupport event="onchange" action="{!callMe}" reRender="fm"/>        
        </apex:inputText>
        <br/><br/><br/>
        
        {!result}
    </apex:form>
</apex:page>

Interview asked in VF,
	Difference b/w Page block table and data table and data list and repeat
	How many records we can display in the page block table.
o	It will display by default  1K.
	How can we display 1Krecord in the page block table?
o	Make readonly = “true’ in the Apex page section then it will display up to 10K records.
 
	How can we display more than 10K record in the page block table?
o	You can go for pagination which has to limit. Like providing next and previous.
	difference b/w action support and action function
o	Action support: whenever event occur we want to invoke a action from the server side like calling Apex method. It can define number of times. Refer example 6
o	Action function: whenever event occurred, action function we will call Java script function then from java script function it will call to Apex code then will use Action Function.it can define only one time

	Difference b/w action function and remote action.
o	Action function: whenever event occurred, action function(from Vf page) we will call Java script function then  from java script function it will call to Apex code then will use Action Function.it can define only one time. It can’t pass parameter and can’t return the value
o	Remote action: If want any apex class method to be called directly from the Java script then we will user remote action. It can pass parameter and can return the value

	Whar is the action region
	What is the action status: A component that displays the status of an AJAX update request. An AJAX request can either be in progress or complete.
	Asynchronous Operation in VF
o	Rerender
o	Rendered  
o	Action support 
o	Action function
o	Action pooler 
o	Action region 
o	Action status
o	Remote action
o	
 AJAX tool kit
_> Using Ajax tool kit we can interact database, perform DML operations, perform SOQL from Java script.
If we want include AJAX tool kit in the VF page then we supposed to give url as below  and it will working on SOAP
  

To access the data base first we need to connect the Database then we can access the database.
We can connect to database in2 ways 
1)	By using session Id
2)	Providing the username and Password.
Limitation of AJAX: 
1)	It can give max 200 records with max 5 fields.
 

Example1: if the made query from java script then we will receive the response in from of JSON.
 
Json Response:
 

Exapmple2: But from above response we need only records then we will take only records from the JSON response like below.
 
Result:
 

Exaple3:  perform SOQL query in Java script and display list account names in VF page.
 

Result:
 

Example4: Inserting code in to Object through java script.
 

 


Schema 
 Schema basically deals with met data of the programming.
Example1: in below example we trying to fetch the all objects from the database.
 

 
Example2:  Soql will give the data from the object but schema will give you the properties of the object.
In below example we are getting the Account properties.
 
VF code
 

Exaple3:  display all the custom object.
 
VF code:
 

Result:
 



Custom Component
In VF we have already standard components like Apex page, apex page block. Data table etc.
We can also create our custom components for VF.

Ex1: first one is the component name  and it have some attributes.
 

VF code:

 

Result:
 


Ex2: suppose if we are writing VF code to print account details in page block repeatedly so instead of writing same code again and again we create component and will use that component in VF code.
  
Apex code:
 

VF Comp:

 

VF code:
 

Result
 


	If we want display our VF page results in Side bar, then develop VF page first and set up in navigation.
Setup-> customize->Home->Home page component -> create new and chose VF page.  Once link created the select that link in below navigation.  
Setup-> customize->Home->Home page layout and select the newly created component 


	Calling Apex class from process builder: If we want to call the Apex class method from process builder the method should be use ‘@InvocableMethod’  annotation.
o	The method should be static and public or global.
o	A class can only have one method which has this annotation.
o	Can’t use other annotations with @InvocableMethod annotation.

 


	
Deployment
We can deploy  code to prod in multiple ways. Generally companies will use change sets or ANT to deploy the code.
1)	Using change sets
2)	Using ANT

Changes sets
Sandbox: Once sand box created Amin will give the Username and password. 
Navigation:
	Setup->deploy-sanboxes-> new sanbox-> type of sandbox.
And we select sand need to created from where prod or from other sand box.
 

 
	 we can’t delete Apex class and Trigger from production we can only deactivated it.
	Production not accept every sandbox. In production we have enable the settings to allow the changes from sandbox.
Navigation in production:
Setup-> deploy-> Deployment setting-> select the sandbox which we need to allow and enable the Allow inbound changes option.

 

	Now we need create a outbound change set in sanbox environment:
Set->deploy->outbound change sets-> create a new outbout change set.
 
Give the meaning full name outbound change set and save it. Then add change set.
 
Then select objects, test class one by one and we shouldn’t add users and profiles here. Users and profiles can created directly in Production. We can select only modified profiles.
 
Once after selecting the all required changes then click on the upload. In below we have only option production. If we want to deploy to other sand box then enabled allow inbound changes in the other sand box so that we can able to deploy other sand box as well and other sand box option will display in below.
 
	Once file uploaded to production it will be available in inbound change set in production. Now go to production setp-> deploy-> inbound changes set.
 
	In production if click on Validate option then it will have 4 options to validate 
 
o	Default: If select this option,
	If change contain test class ,then Local test (production test classes) and changes set test both will run.
	 If change doesn’t have contain any test class, then no test class will run. 
o	Run Local tests: if we select this option then it will run all the local test classes and if change set have test class then those test class also run.
o	Run all tests: if we select this option then it will run all the local test classes including packages test classes from production and if change set have test class then those test class also run.
o	Specified test classes: specifies test class only run.
 
Production have local test class test1,test2, test3 and package test classes test4, test5. Changes set have test classes one, Two.
 
	Important and commonly getting issue: if we have chooses the default option then in some cases it will fails because of code coverage.  If we run test class in sandbox it gave 100% but now in production it is getting 63% only because of along with change set test class , Production local test classes are also running that’s reason we are getting the 63%.
 

Now to resolve the this issue we need to choose the specified test class option and specify the Changes set related test classes. 
 

After validating click on deploy. While deploying also it will ask to chose test class validation type choose specified test class and then click deploy. Now it will deploy the code to production.
 
 


ANT
If we want to deploy using ANT we require some files.
1)	We need to download ANT migration tool. Navigation:
	Setup->develop-> tools-> lightning platformtool-> then select the ANT migration tool ZIP file.
2)	We need to download Apache ANT latest version.
3)	Copy these 2 zip files in one new folder to identify where we have install the Ant. We need to extract the both the zip files.
4)	In after extraction, in Salesforce ANT folder we will have the Salesforce ANT jar copy this in to Apache ANT LIB folder
5)	Set Environment variables. Go to system properties and then select Advance system settings then select the environment variables. 
Then add new and give the name as Ant and provide the Path from Apache ant folder up to BIN (without Bin ). Then in below  system variable path paste the path including BIN in this path if already path exist don’t delete that by giving semi colon paste your path.

 
6)	Same way we need to install Java as well.
7)	Once after setting up ANT then check ANT is installed or not in Command promt.
Ant -version
By using we have configure 3 files.
o	Build.properties: It will contain credentials(User name, pass word,  of the organization from where we want fetch code and where we need to deploy the code.
 
o	Package.xml: this file will contains list of objects we need to deploy. 
 

o	Build.xml: we need to configure the build XMl by giving the target name and path of path of the build.properties and package.xml.
 

	Then go to the command prompt and change the patch to the build.xml.
	Then give command : ant targetname. After running this command build prepared successfully and we can be able to see in code in out folder.
 

	So now we want to deploy code onther org we need to create same files again. Build.propertie user details of where we need to deploy. Build.xml create a new target in deploy section and give the path of the our build and specify test classes to run.  In package.xml specify the elements we need to deploy. Then run same command : ant targetname then it will be deployed to org. 
	If we use change sets we can’t deploy to one org sand box other org sandbox but with help of Ant we deploy to any sandbox to prod. 




Eclipse
	We need to download eclipse latest from java developers from the www.eclipse.org 
	Then extract the downloaded zip file and click on the eclipse logo then eclipse will open. 
	This eclipse basically used for Java, now we want deploy the Apex code so we need to configure salesforce eclipse extension. For the goto help-> install new software-> provide name and URL of the Salesforce eclipse extension URL ten complete installation. 
	After installation it will restart still it will show java now we need to changed to salesforce.  Window-> perspective-> open perspective -> other and select the salesforce. 
	File-> new-> project-> provide project name and user details then we can be able to fetch the objects from the our development account.
 
	Now whatever new objects created it will directly saved to salesforce account. 
	Now if we want to deploy to the server then right click on the  project and force.com then deploy to server and provide user account details.
	In developer console we don’t have version control but by using eclipse we can have the version controlling. 
	If we want to share our code with Git, first we need to configure the GIT repo for that right click on the Project-> team-> share project and provide Git repo URL and chose local copy path to save. 

Agile 

How the work is assigned:
1)	JIRA : user stories – user stories are created in JIRA and this will assigned to the developer to do  tasks
2)	Daily status calls:
3)	Refinement calls -- Requirement discussion.

Client requirement: 
	Story grooming’s(user stories) :  user requirements are specified in the Story grooming’s. 
Backlog: user requirements are classified in backlog’s which means that Tasks and assigned to developers.
Sprints: requirements can be divided into the sprints and will deliver to users in sprints.
Nor each Sprint duration will 10(2 weeks) days or some time it might be 4 weeks also based the sprint development work.


	Every developer 3 points of work for a week will be assigned. Team size might be 5 or 6 within that one tester. If it is a admin related work then assign 5 points of work for a week. 

TEsting -- Defects
HP - ALM

1 point = 6 hours.

Defect - 3 points

6*3 = 18 hours
	
s
Build team.


1. Create permission set
	steps
2. Create workflow
3. create reports
4. Create objects
5. Create lightning application
6. Create trigger
7. Create Batch apex
8. Create lightning componet
	UI document
9. Apex Class with methods.

	Requirements ----
	
	Query all the accounts and contacts.

	Get customer with phone number.

	Get Account and contacts records with Account id.

	Get payments related to customer based customer id. 

	Get inactive leads/customers.

	Check if it is duplicate account.

	get all the messages sent to customer.

	Registrations - get the data from registration form and save it in 
	Registration object. -- 5 Points - 30 hours.
			
			-- 8 Points

	
Projects
Project1

Project1: Medical equipment
Lead Object:
 

Creating Trigger for Lead:

 


 

 

 
Account object:
 
 


 


 
 Opportunity Object:
 
 
Creating quick quote:
 


Project2

Project2: Insurance project


Lightning

URL for Lightning component reference to check syntax of the Aura and lightning components.
https://developer.salesforce.com/docs/component-library/overview/components

In VF page, if request a server then it will give response in the form of HTML and we will send data to the server in the form of HTTP Post and server will response in the form of HTML  will and entire page will reloaded. By using rendered, action support, region support will handle to reload only certain block code but if we write many of this functions(rendered, action support and region support) to avoid page reloaded then performance will decrease. 
 
In Lightning: 
If we request a server then it will give response in the form of Initially once after that we will send data to the server in the form of AJAX call  and server will response in the form of JSON  will and entire page will not reloaded only modified component will reloaded. 
Server side is nothing, but Apex class and client is VF or Lightning.

 

MVC of lightning:
 
In Lightning, Client side it will have the View(UI), Client side Controller(Java script) and Client side storage(JS). In server side Controller(Apex) and data base(SOQL). Page will not directly communicate with serverside Controller. First it will connect with client side controller and this controller will communicate and server and get response.
 
	How to convert existing classic Application in to Lighting: If we login to the classic we can be able to see the Lightning experience migration assistance, once we click on the get stated and check readiness button It will generate a pdf that shows what all the functionalities support and what need to recreated in Lighting.   	

Lightning Application

1)	It is a collection of Components. Every application starts and end with <aura:application>.
2)	It is also call as SAP(single page application). Lightning application will have a extension of “.app”.
3)	url of the lightning application will be                                                                         		                                                               https://mydomainname/namespaces/apllicationname.app
if we don’t define namespaces then the default URL is:
https://mydomainname/c/apllicationname.app
4)	steps to create a lightning application: 
developer console-> file-> new-> Lightning application.

Attributes: 
Access
o	this will specify the scope of the application. Possible values are public and Global.
o	Default value is public.
o	Public: If we define access as public, this application can be extended any where within the  name.
o	Global : If we define access as global, this application can be extended within the  name and outside of the name space.
Controller
o	 This will specify the name of the apex class which we want to use in the application. 
o	We can define only one apex class as controller.
Description: this is string value and used to define description of the application.
Extends:  this will specify the name of the application which you want to extend within the application. We can only extend only one application.
Syntax: extends = “namespace:applicationname” 
Extensible: this is Boolean value. If we set as true then this application can extended by other application.
Implements: this will specify the name of interface which want to implement in the application. Application can implement more than one interface. 
Template: Name of the template to be loaded in the application.
Token: List of token names which we want to apply in the application.



Lightning component
	Component are the reusable units of application and these are going to create a some functionality on application UI. 
	Using component we can build single line application or entire application.
	Component can contain other components also HTML , CSS, Javascript or any  other web enabled code. 
	Components are 2 types:
o	Standard component
o	Custom component
	If we want invoke component from the application then use below syntax.            <namespace:componentname>. If there is no namespace then use <c:componentname>.
Standard component: these components are created by the SF. Example.
	<aura:application>, <aura:component>, <aura:handler>, <aura:iteration>.
Custom component: these components are created by the user as per the business requirement. Every custom component will start and end with <aura:component>. 
Steps to create custom component: every component will have “.cmp” extension.
	developer console-> file-> new-> Lightning component.
Attributes: 
Access 
o	this will specify the scope of the component. Possible values are public and Global.
o	Default value is public.
o	Public: If we define access as public, this component can be extended any where within the  name.
o	Global : If we define access as global, this component can be extended within the  name and outside of the name space.
Controller
o	This will specify the name of the apex class which we want to use in the component.
o	We can define only one apex class as controller.
Description: this is string value and used to define description of the component.
Extends:  this will specify the name of the component which you want to extend within the component. We can only extend only one component.
Syntax: extends = “namespace: componentname” 
Extensible: this is Boolean value. If we set as true then this component can extended by other component.
Implements: this will specify the name of interface which want to implement in the component. component can implement more than one interface. 
Template: Name of the template to be loaded in the component.
isTemplate: it’s Boolean value. When set has true this component will be  a template.
Token: List of token names which we want to apply in the component.

Example: create a custom component and invoke that component in application.
Customcomponent:
 

Application:
 
Example2: Invoke multiple component within a :
 


Lightning Attributes
This component is used to define properties of application, component, event , interface .

Attributes:
Access 
o	this will specify the scope of the attribute. Possible values are public and Global.
o	Default value is public.
o	Public: If we define access as public, this attribute can be extended anywhere within the  name.
o	Global : If we define access as global, this attribute can be extended within the  name and outside of the name space.
Name:  this is the string value and it will define the name of the attribute.
Type: this will specify the datatype of the attribute. This will support all basic types(integer, decimal…etc) also List, Object.
Required: it is Boolean value and set as true to make the attribute value as not blank.
Default: we can set the default value of the attribute.
Expression format: if we want refer the value of attribute in component or application then we use “v.attributename” format.
Example: if we want refer the value of attribute we use “v.attributename”.
Component
 
Application
 

Example2: invoking component from other component.
Comp1: in parent component we are calling the child component. 
 

Comp2:
 
App: 
 
Output:
 

Example2:
Comp1:
 

Comp2:
 
Comp3:
 
App: 
 

Output:
 


Aura handler
1)	This is the predefined component. 
2)	This Aura handler will be fired before the content of the component is loaded.  
3)	Attributes: 
a.	Name: 
Init: initialization. 
b.	Value:  
This: this is referring to current component.
c.	Action: what action need to be performed while loading.
Controller
Controller are two types: 
1) client-side controller
 2)server-side controller.
Client-side controller
1)	Every component will have corresponding client side controller. 
2)	It is a java script file.
3)	If the name of the component is “abc.cop” then the client side controller name will be “abccontroller.js”.
4)	 In component page side bar we will have controller option if we click on that option automatically client-side controller will create.
5)	Syntax: 
 ({
        Functionname; function(component, helper, event){
Logic
}
     })
6)	Any event occurs on the element of the component then it is going to call client side controller.
Example: 
Comp:
 
Client side controller: 
 

App: 
 
Optput:
 

Example2:in this example we are executing client side controller without performing any action by using <aura:handler>. <aura:handler> will be executed before the content of the component is loaded.    the client side controller mentioned  functions. 
Comp:  
 
Client-side controller:
 
App: 
 
Output: 
 
Reading and setting values of attributes at client-side controller:
1)	In the lightning client-side data is stored in the attributes of a component. 
2)	If you want to read the values of attributes of the component in the client-side controller 
Functionname: function(component, helper,event){
}
	Component: this will refer the component from which client-side controller has fired.
	Event: this will refer the event which has fire.
	Helper: helper function.
3)	Getter: 
Component.get(“v.attributename”)
4)	Setter:
Component.set(“v.attributename”, value)
Example:
Comp:
 


Client-side controller:
 

App:
 

Output:
 

Example2:
Comp: 
 

Client-side controller:

 

App:
 

Output:
 



Component style
1)	If we want apply any CSS on the component we use style from the component bundle. 
2)	.THIS will refer the component. 
3)	.classname: this will set the list of properties.
Style: 
 
Component: 
 


Lightning Input
By using this input variable we can take the values from the lightning page and assign them to attribute and perform the operation what we required. 
Comp:
 

Style:
 
Controller:
 
App:
 

Lighting Accordion
 This is also same as Panel bar in the VF. It will create a vertical sections on the page. We have <lightning:accordion> and <lightning:accordionsection> tags are there to achieve panel view.
1)	This component defined under lightning namespace.
2)	This will create a vertical sections on the page.
3)	This component has built in SLDS applied. 
4)	Application should extend “forece:slds “ to get standard look and feel.
5)	Attributes:
a.	Title: this is text value. when we keep cursor on the component pop up will show the title.
b.	activeSectionname: this will take the name of the accordionsection element which element body should be displayed by default when we load the page.
Lightning:accordionsection:
1)	This component defined under lightning namespace.
2)	This is the child component of the accordion.
3)	Attribute:
a.	Label:This is the text value. This will displayed as the title of the section on the section header.
b.	Name: this is text value. Name will be used refer to the section in the component.
c.	Actions: this will specify the actions for the sections. If we want to define custom action then use <aura:set attribute= “actions”>.

Example1:
Comp:
 
App:
 
Output:
 
Invoke Apex in Lightning

 

Example1:
Apex:
 
Comp:
 
Client-side controller: 
o	If we want to call the APEX method(server side) from lightning client-side controller then we have to create an instance of that method. In blow code we need to call the apex callme() method from lightning client-side controller so use syntax like below.
		Var actionname = component.get(“c.callme”);
o	Once we called the method, we need to set the callback method to handle the response of the call and this callback method have 2 parameters. 
	Param1: This: this will be the current component. 
	Param2: Function(response). In the response will be capture. Once after calling the method we need to check the state of that call whether that is success or error. We will know the state by using respone.getState(); If state is success then we are setting values to the page.
o	When we are calling the Apex method from lightning then this call be asynchronous call. So we use below syntax to add actions to the queue. Suppose if multiple users executing same action then in queue there might have chance of having more than(5 entries)  one entry in the queue in that it will call the apex class only once(instead of calling same method 5 times at a same)  and give the result because of this performance will be increased. 
$A.enqueueAction(actionname);
Asynchronous operation will not execute in top to bottom order once it dependency clear then asynchronous operation will execute seperatly. In below code after line no 3, asynchronous operation line no 14 will execute and the line 4 to 13. 

 

App:
 


Aura Iteration
It is used to display the list of the record in page. Same like page data table, data list. We need to apply CSS to get the look and feel.
Syntax: 
<aura:iteration iteams = {!v.names} var = “a”>
</aura:iteration>

Example1:
 

Example2:
 
Comp: 
 
Client-side controller:
 
App:
 
Output:
 

Example3:take the stage name from page and display related records.
Apex: 
 
Comp:
 
Client-side controller: We can pass parameters to Apec method using action.setParamas({“key1”:value1 , “key2”:value2})
 

Example4:
Apex:
 
Comp:
 
Client-side controller:
 


Lightning Data table
If we want to display list of record with standard properties then we use Data tale. It same like Page block table.
Attributes:
1)	column: array of the columns object that's used to define the data types. Required properties include 'label', 'dataKey', and 'type'. The default type is 'text'.
2)	data: The array of data to be displayed.
3)	keyField: Required for better performance. Associates each row with a unique ID.
4)	hideCheckboxColumn: Hides or displays the checkbox column for row selection. To hide the checkbox column, set hideCheckboxColumn to true. The default is false.
Example1:get the list record based on the Industry search option.
Apex:
 
Comp:
 

Client-side controller:
 


App:
 
Output:
 

Example2: Insert data into database entered from page.
Apex:
 
Comp:
 
Client-side controller:
 
App:
 





Lightning:Avatar
If we want display some avatar’s in the page then use <lightning:avatar> component.  It has some attributes.

Lightning Button icon
If we want create a button with icon then we use <Lightning:buttonIcon>
Attributes: 
IconName:name of the icon.
Size: xxsmall, xsmall, medium, large.

Example:
 
Output:


Lightning Button group

<Lightning:buttogroup>.

Events
If we want to transfer the data b/w components then we will go for the events. Events are classified in to two types.  
1)	Component events
2)	Application events

Syntax:
<aura:event type=”component” description =”event test”>
	//Logic
</aura:event>.
Attribute:
Type: type of event. Component or Application.
Description: description of the event.

Phases of the event:
Event fired-> Event captured->event handled.

To params use below syntax. It is a key value pair combination.
Event.setparam(“message”, “event message here”);

Component events

In below example, if event is fired by the child component then the event can be handled by either child component or parent component. 

 
Register even: below is syntax to register an even.
	<aure:registerEvent type = “c:first_example” name = “myevent”>
Firing event:
Functionname:function(component, event, helper){
	Var abc = event.getEvent{“myevent”};
	Abc.setparams({“empname:”empname});
	Abc.fire();
}
Handling event:
By using <aura:handler> we will handle the event.
 

Example:
Event:
 
Child comp:
 
Child comp controller:
 
Parent comp:
 
 Parent comp controller:
 

Exampl2: 

Event:
 

Child comp:

 

Child comp controller:
 

Apex class  is calling from Child controller as well as parent controller also.

 



Parent comp:

 


Parent comp controller:

 

App: 
 



Application Events
In application level event, if event is fired by the child component then the event can be handled by same child component or another Child component or parent component.  It is like a push-subscribe mechanism.

Register even: below is syntax to register an even.
	<aure:registerEvent type = “c:first_example” name = “myevent”>
Firing event: use below syntax to get the application event.
	$A.get(“e.namespace:name of event”);
Functionname:function(component, event, helper){
	Var abc = $A.get(“e.c:first_example”);
	Abc.setparams({“empname:”empname});
	Abc.fire();
}
Handling event:
By using <aura:handler> we will handle the event.
	In component event, while registering the event the name will play major role like getting even and firing. But in application level, original event name will be used.


Example1:
Event:
 
Child comp1:
 
Child comp1 controller:
 
Child comp2:
 
Child comp2 controller:
 
Child comp3:
 
Child comp3 controller:
 
Parent comp
 

App:
 
Example2:in comple1 enter and name search the data. In comp2 display related account info, comp3 will display related contact and comp3 will display related opportunity. Here for example purpose showing only one if we want to display multiple then use Datatable concept. In below example this are asynchronous call, comp1 will fire the event and comp2& comp3 handle event independently. 
Event:
 
Comp1:
 

Comp1 controler
 

Comp1 style; 
 
Comp2:
 
Comp2 controller:
 
Comp2 style:
 

Comp3:
 
Comp3 controller:
 
Comp3 style:  same as comp2
Parent comp:
 
Apex:
 
App:
 
Creating Components Dynamically

Create a component dynamically in your client-side JavaScript code by using the $A.createComponent() method. To create multiple components, use $A.createComponents().
The syntax is:
$A.createComponent(String type, Object attributes, function callback)
1)	type—The type of component to create; for example, "lightning:button".
2)	attributes—A map of attributes for the component, including the local Id (aura:id).
3)	callback(cmp, status, errorMessage)—The callback to invoke after the component is created.The callback has three parameters.
a.	cmp—The component that was created. This enables you to do something with the new component, such as add it to the body of the component that creates it. If there’s an error, cmp is null.
b.	status—The status of the call. The possible values are SUCCESS, INCOMPLETE, or ERROR. Always check that the status is SUCCESS before you try to use the component.
c.	errorMessage—The error message if the status is ERROR.
Example1:
<!--c:createComponent-->
<aura:component>
    <aura:handler name="init" value="{!this}" action="{!c.doInit}"/>

    <p>Dynamically created button</p>
    {!v.body}
</aura:component>


/*createComponentController.js*/
({
    doInit : function(cmp) {
        $A.createComponent(
            "lightning:button",
            {
                "aura:id": "findableAuraId",
                "label": "Press Me",
                "onclick": cmp.getReference("c.handlePress")
            },
            function(newButton, status, errorMessage){
                //Add the new button to the body array
                if (status === "SUCCESS") {
                    var body = cmp.get("v.body");
                    body.push(newButton);
                    cmp.set("v.body", body);
                }
                else if (status === "INCOMPLETE") {
                    console.log("No response from server or client is offline.")
                    // Show offline error
                }
                else if (status === "ERROR") {
                    console.log("Error: " + errorMessage);
                    // Show error message
                }
            }
        );
    },

    handlePress : function(cmp) {
        // Find the button by the aura:id value
        console.log("button: " + cmp.find("findableAuraId"));
        console.log("button pressed");
    }
})

Exampl2:when we click on show button one input to be display in page.
Comp:
 

Comp controller:
 

Example3:if we click on submit button from comp2 then it will create new component dynamically and displaying the account details.

Apex class;
 
Comp:
 
Comp controller:
 

Comp2:
 
Comp2 controller:
 
App;
 
Exampl2: if we click on the button from the component then it will create new component dynamically with object details and other component with child object details. 
Style same for all components:
 

Account Comp:
 
Contact comp:
 
Opportunity comp:
 
Lead comp:
 
Home comp:
 
Home component controller:
 
  
Parent comp:
 
App:
 
Output: after clicking create it dynamically add the components.
 
After clicking create button.
 

Lightning Data Service 
Lightning data service is like what we use to do in VF using standard controller functionality. By using without calling apex class we can create, update and delete records.
If we want to add custom component to the to the record page in lightning then while creating component we need to enable the record home page option. Then only in app builder we can be able to select the custom component to add the record home page.
So it will implement some interfaces: 
flexiPage:availableForrecordHome : if we implement this interface then the component can be added to record home. 
Force:hasRecordId: ensuring that we are passing the ID of the record. Based on this id will get the data and display.  To get the data based on this Id we have component called <force:recordData>.

force:recordData
attributes: 
fields: Specifies which of the record's fields to query.
layoutType: Name of the layout to query, which determines the fields included. Valid values are FULL or COMPACT. The layoutType and/or fields attribute must be specified.
mode: The mode in which to load the record: VIEW (default) or EDIT.
recordId: Inherited from force:hasRecordId. The record Id
targetFields: A simplified view of the fields in targetRecord, to reference record fields in component markup.
targetRecord: The provided record. This attribute will contain only the fields relevant to the requested layoutType and/or fields atributes.

Methods:
deleteRecord: Deletes the current record.
getNewRecord: Loads an empty record template into v.targetRecord which includes any predefined default values for the object and record type.
reloadRecord: Performs the same load function as on init, using current config values (recordId, layoutType, mode, etc) but does not force a server trip if not required.
saveRecord: Saves the current record.

NAME	ARGUMENTS	ACCESS	DESCRIPTION
deleteRecord	NAME	TYPE	DESCRIPTION
callback	unknown	Callback function to be invoked after the record has been deleted.
	global	Deletes the current record.
getNewRecord	NAME	TYPE	DESCRIPTION
objectApiName	string	The object api name of the record.
recordTypeId	string	If null, the default record type for the object will be used.
skipCache	boolean	Force a trip to the server, skipping any local cache.
Callback	unknown	Callback function to be invoked after new record template is retrieved.
	global	Loads an empty record template into v.targetRecord which includes any predefined default values for the object and record type.
reloadRecord	NAME	TYPE	DESCRIPTION
skipCache	boolean	Force a trip to the server, skipping any local cache.
Callback	unknown	Callback function to be invoked after record is retrieved.
	global	Performs the same load function as on init, using current config values (recordId, layoutType, mode, etc) but does not force a server trip if not required.
saveRecord	NAME	TYPE	DESCRIPTION
callback	unknown	Callback function invoked after new Record is retrieved
	global	Saves the current record.


Example1:After cretong the component, edit the lightning page and add the custom component to that page.
Comp:
 
Output:
 

Example2: we created new component and added the Account page. When ever account page opens then new contact instance will be created for the contact by using “getNewRecord” method. Then we enter the data save to databse using Saverecord method.
Comp:
 
Controller:
 
 

Lightning select
	It is like pick list.
Example: synching the data b/w two components or comp to app , comp to parent without events and controller. If we want use the value assigned to the component 1 and use same value in component2 also then create same type attribute in comp2 also.  In below example after selecting the one the values then “myVal” will assigned with some value and same can be reflected in App also.
Comp1:
 

Output: 
 
App:
 

Exampl2: in below example for lead objevt new button we creating new page and getting picklist values from the schema pgm(original picklist values) and saving the record. For saving we are using LDS. for lead replace new button action to lightning comp1 name.
Comp1:
 
 

Comp1 controller:
 
 


Comp2:
 

Comp2 controller:
 
Apex:
 
Output:
 


By using below code we navigate to the page after record creation:
 

Lightning helper
If we writing same repeated cod then instead of writing repeated code many time write it in helper and invoke helper. From component we can’t directly call helper method. From component we can call controller then from controller we can helper methods.
Example:
Comp:

Controller: Instead of writing common code both methods we can define that common code in helper and call it.


 
After including Helper controller code;
 
Helper:
 
App;
 

Lightning out dependency 
If we want invoke lightning component out side of the lightning like VF or Angular etc. then we use lightning out dependency.  While creating a application we can enable the option called “Lightning out Dependency out’. Once the application will extend the “ltng:outapp” which means that this application can be used in VF, anugular or any other third party..
 
 
 
	if we want use lighting app in Vf page then we need to use <Apex:includeLightning/> tag with this tag what ever the CSS and javascript using in lightning same applicable to VF page.
Example:
App:
 
VF page:
 
Output; 
 

Example2:
Comp:
 
App:
 
VF page:
 
Output:the page is a VF but look and feel is Lightning
 
Example3:
Comp:
 
Comp controller:
 
Comp css:
 
App;
 
VF page:
 
Output:
 







Block element modifier BEM

Lightning design system.
CSS
In lightning CSS used mainly to dived page in to block by using <div>.
Css are 3 types:
1)	inline
ex:
 
2)	external CSS
suppose we define CSS in external files and using those in Ligtning page.
Go to static resources and upload css file where CSS are defined. To use static resource in the component we have a <ltng:require>  
Syntax: 
<ltng:require  styles= “{!$Resource.resourcename}”>  

 
Output
 

3)	component bundle style
In component if we click on the Style then I will give a new .css tab to add CSS styles.

Debugger
If we use debugger statement in JS then we can be able to debug the JS code.(refer Vamsi video at sesstion 24, 24min 10) . refresh the page, before clicking the button click and inspect and click submit button it will take you in to Debug.
 
How to navigate from one comp another component

URL: http://simpluslabs.com/how-to-use-lightningnavigation-to-navigate-another-component/

 
comp1:
<aura:component implements="force:appHostable,flexipage:availableForAllPageTypes">
 <lightning:navigation aura:id="navService"/>
 <lightning:button label="Navigate" onclick="{!c.handleClick}"/>
</aura:component>

comp1 controller:
({
    handleClick: function(cmp, event, helper) {
     var navService = cmp.find("navService");
     var pageReference = {
                         "type": "standard__component",
                         "attributes": {
                                         "componentName": "c__WebinarOverride"(This is the comp2 name)
                                       }, 
                         "state": {
                             'message':'This is the target page'
                         }
                        };
     navService.navigate(pageReference);
    }
})


comp2:

<aura:component implements="lightning:isUrlAddressable">
    <aura:handler name="init" value="{!this}" action="{!c.doInIt}"/>
	<lightning:card iconName="standard:event" title="WebinarOverride component">
	    <lightning:formattedText class="slds-p-left_small" value="This is the target page"/>
    </lightning:card>
    <lightning:card/>
</aura:component>

comp2 controller:
({
	doInIt : function(component, event, helper) {
		 var id = component.get("v.pageReference").state.message; 
                 var toastEvent=$A.get('e.force:showToast');
                    toastEvent.setParams({
                      title:'Rendering page',
                      message:id,
                      key:'info_alt',
                      type:'info',
                      mode:'pester'
               });
        toastEvent.fire();
	}
})


Interfaces using mainly 
When we try to create a component, by default they are lifeless and what I mean by that is, we cannot see the output of at the component, as is. We need to either embed the component in a Lightning App or record page or we need to create a tab (just like how we create a tab for Visualforce pages) or we need to plug the component in the Quick Action or etc.
URL for below interfaces:
https://blog.salesforcecasts.com/lightning-interface-in-aura-components-and-everything-you-need-to-know-about-them/

flexipage:availableForAllPageTypes: To make your component available for record pages and any other type of page, you need to implement the flexipage:availableForAllPageTypes interface.
https://developer.salesforce.com/docs/component-library/bundle/flexipage:availableForAllPageTypes/documentation


flexipage:availableForRecordHome: To make your component available for record pages only, you need to implement the flexipage:availableForRecordHome interface.
https://developer.salesforce.com/docs/component-library/bundle/flexipage:availableForRecordHome/documentation
Note: If your component is designed for record pages and any other type of page, use the flexipage:availableForAllPageTypes interface instead.

force:appHostable: Add the force:appHostable interface to a Lightning component to allow it to be used as a custom tab in Lightning Experience or the Salesforce mobile app. Components that implement this interface can be used to create tabs in both Lightning Experience and the Salesforce mobile app.
https://developer.salesforce.com/docs/component-library/bundle/force:appHostable/documentation
force:hasRecordId: By using force:hasRecordId interface in lightning component we can assigned the id of the current record to lightning component. This interface adds an attribute named "recordId" to the component. The type of attribute is string and has 18-character Salesforce record ID.
https://developer.salesforce.com/docs/component-library/bundle/force:hasRecordId/documentation
Add the force:hasRecordId interface to a Lightning component to enable the component to be assigned the ID of the current record. The current record ID is useful if the component is used on a Lightning record page, as an object-specific custom action or action override in Lightning Experience or the Salesforce app, and so on. This interface has no effect except when used within Lightning Experience, the Salesforce mobile app, and template-based communities.
force:hasSObjectName: This interface is used to indicate that a component has SObject name attribute. Add the force:hasSObjectName interface to a Lightning component to enable the component to be assigned the API name of current record’s sObject type. The sObject name is useful if the component can be used with records of different sObject types, and needs to adapt to the specific type of the current record. This interface has no effect except when used within Lightning Experience, the Salesforce mobile app, and template-based communities.
https://developer.salesforce.com/docs/component-library/bundle/force:hasSObjectName/documentation
force:lightningQuickAction : When we want a component to be plugged in a Quick Action that’s when we use this component.
Lightning:actionOveride: if we want override a standard actions then use Lihtning:actionOveride interface.
lightning:isUrlAddressable: when our component has functionality which involves navigating the user from one component to another component or navigation from one component to record detail page or object home page or Knowledge Article page then this interfaces comes in handy.
lightning:hasPageReference : Add the lightning:hasPageReference interface to a Lightning component to indicate that it can accept a pageReference. This capability comes by default when implementing lightning:isUrlAddressable. This pageReference feature is supported only in Salesforce Lightning and the Salesforce App. It does not work for components that are embedded in a flexipage.
lightning:availableForFlowActions : Add the lightning:availableForFlowActions interface to a Lightning component to make it available as a flow action. When a component is executed as a flow action, the flow calls the invoke method in the client-side controller. Flows that include Lightning components are supported only in Lightning runtime.
https://developer.salesforce.com/docs/component-library/bundle/lightning:availableForFlowActions/documentation
lightning:availableForFlowScreens : Add the lightning:availableForFlowScreens interface to a Lightning component to make it available for flow screens. This interface is supported only in Lightning runtime.
https://developer.salesforce.com/docs/component-library/bundle/lightning:availableForFlowScreens/documentation

$Browser
The $Browser global value provider returns information about the hardware and operating system of the browser accessing the application.
Attributes:
formfactor : Returns a FormFactor enum value based on the type of hardware the browser is running on.         DESKTOP for a desktop client
PHONE for a phone including a mobile phone with a browser and a smartphone
isAndroid: Indicates whether the browser is running on an Android device (true) or not (false).
isIOS: Due to changes made by Apple, $Browser is deprecated because it no longer distinguishes between iPad and MacOS desktop.
isIPad:	Due to changes made by Apple, $Browser is deprecated because it no longer distinguishes between iPad and MacOS desktop.
isIPhone: Not available in all implementations. Indicates whether the browser is running on an iPhone (true) or not (false).
isPhone: Indicates whether the browser is running on a phone including a mobile phone with a browser and a smartphone (true), or not (false).
isTablet	: Indicates whether the browser is running on a tablet with Android 2.2 or later (true) or not (false).
Note: Due to changes made by Apple, isTablet is deprecated for iOS devices because $Browser no longer distinguishes between iPad and MacOS desktop.

isWindowsPhone: Indicates whether the browser is running on a Windows phone (true) or not (false). This attribute detects only Windows phones and doesn’t detect tablets or other touch-enabled Windows 8 devices.
Comp:
<aura:component>
    {!$Browser.isTablet}
    {!$Browser.isPhone}
    {!$Browser.isAndroid}
    {!$Browser.formFactor}
</aura:component>

Controller:
({
    checkBrowser: function(component) {
        var device = $A.get("$Browser.formFactor");
        alert("You are using a " + device);
    }
})
Exception Handling

Apex class:
public class SampleAuraController {    
    @AuraEnabled
    Public static void createLead(Lead objLead){
        try{
            //Insert Lead Record
            insert objLead; 
        }catch(DmlException e) {
            //get DML exception message
            throw new AuraHandledException(e.getMessage());
        }catch(Exception e){
            //get exception message
            throw new AuraHandledException(e.getMessage());
        }
        finally {
        }
    } 
}
Comp:
<!--Sample.cmp-->
<aura:component controller="SampleAuraController" implements="flexipage:availableForAllPageTypes,force:appHostable">
     
    <!--Declare Attributes-->
    <aura:attribute name="objLead" type="Lead" default="{'sobjectType':'Lead', 
                                                        'FirstName': '',
                                                        'LastName': '',
                                                        'Email': '', 
                                                        'Company': ''}"/>
     
    <!--Component Start-->
    <div class="slds-m-around--xx-large">
        <div class="container-fluid">
            <div class="form-group">
                <lightning:input name="fname" type="text" maxlength="50" label="First Name" value="{!v.objLead.FirstName}" />
            </div>
            <div class="form-group">
                <lightning:input name="lname" type="text" maxlength="50" label="Last Name" value="{!v.objLead.LastName}" />
            </div>
            <div class="form-group">
                <lightning:input name="emailId" type="email" maxlength="100" label="Email" value="{!v.objLead.Email}" />
            </div>
            <div class="form-group">
                <lightning:input name="company" type="text" maxlength="50" label="Company" value="{!v.objLead.Company}" />
            </div>
        </div>
        <br/>
        <lightning:button variant="brand" label="Submit" onclick="{!c.handleLeadSave}" />              
    </div>
    <!--Component End-->
</aura:component>


JS controller:
({    
    //Handle Lead Save
    handleLeadSave : function(component, event, helper) {
        var objLead = component.get("v.objLead");
        var action = component.get("c.createLead");
        action.setParams({
            objLead : objLead
        });
        action.setCallback(this,function(a){
            var state = a.getState();
            if(state === "SUCCESS"){
                alert('Record is Created Successfully');
            } else if(state === "ERROR"){
                var errors = action.getError();
                if (errors) {
                    if (errors[0] && errors[0].message) {
                        alert(errors[0].message);
                    }
                }
            }else if (status === "INCOMPLETE") {
                alert('No response from server or client is offline.');
            }
        });       
        $A.enqueueAction(action);
    }
})


Output:
 

 
